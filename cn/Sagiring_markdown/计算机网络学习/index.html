<!DOCTYPE html>
<html lang="en">

<!-- Head tag (contains Google-Analytics、Baidu-Tongji)-->
<head>
  <!-- Google Analytics -->
  

  <!-- Baidu Tongji -->
  

  <!-- Baidu Push -->
  

  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>

  <meta name="google-site-verification" content="lxDfCplOZbIzjhG34NuQBgu2gdyRlAtMB4utP5AgEBc"/>
  <meta name="baidu-site-verification" content="PpzM9WxOJU"/>

  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="description" content="人生苦短，及时行乐"/>
  <meta name="keyword" content="Sagiring,blog"/>
  <link rel="shortcut icon" href="/img/avatar/good_to_look.jpg"/>

  <!-- Place this tag in your head or just before your close body tag. -->
  <script async="async" defer="defer" src="https://buttons.github.io/buttons.js"></script>

  
    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Sagiring/Sagiring.github.io/css/bootstrap.min.css"/>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Sagiring/Sagiring.github.io/css/beantech.min.css"/>

    <!-- Pygments Highlight CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Sagiring/Sagiring.github.io/css/highlight.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Sagiring/Sagiring.github.io/css/widget.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Sagiring/Sagiring.github.io/css/rocket.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Sagiring/Sagiring.github.io/css/signature.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Sagiring/Sagiring.github.io/css/catalog.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Sagiring/Sagiring.github.io/css/livemylife.css"/>

    

    
      <!-- top start (article top hot config) -->
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Sagiring/Sagiring.github.io/css/top.css"/>
      <!-- top end -->
    

    

    

    
      <!-- Search start -->
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Sagiring/Sagiring.github.io/css/search.css"/>
      <!-- Search end -->
    

    
      <!-- ThemeColor start -->
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Sagiring/Sagiring.github.io/css/themecolor.css"/>
      <!-- ThemeColor end -->
    

    

    
      <!-- gitalk start -->
      <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css"> -->
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Sagiring/Sagiring.github.io/css/gitalk.css"/>
      <!-- gitalk end -->
    

  

  <!-- Custom Fonts -->
  <!-- <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
  <!-- Hux change font-awesome CDN to qiniu -->
  <link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.5.0/css/font-awesome.min.css" type="text/css">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <!-- Hux Delete, sad but pending in China <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'> <link
  href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/ css'> -->

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]> <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script> <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script> <![endif]-->

  <!-- ga & ba script hoook -->
  <link rel="canonical" href="https://blog.sagiring.asia/cn/Sagiring_markdown/计算机网络学习/">
  <title>
    
      计算机网络学习 - 茗茗之中的blog
    
  </title>
<meta name="generator" content="Hexo 5.4.0"></head>


<!-- hack iOS CSS :active style -->

	<body ontouchstart="" class="body--light body--dark">


		<!-- ThemeColor -->
		
		<!-- ThemeColor -->
<style type="text/css">
  .body--light {
    --light-mode: none;
    --dark-mode: block;
  }
  .body--dark {
    --light-mode: block;
    --dark-mode: none;
  }
  i.mdui-icon.material-icons.light-mode {
    display: var(--light-mode);
  }
  i.mdui-icon.material-icons.dark-mode {
    display: var(--dark-mode);
  }
</style>
<div class="toggle" onclick="document.body.classList.toggle('body--dark')">
  <i class="mdui-icon material-icons light-mode"></i>
  <i class="mdui-icon material-icons dark-mode"></i>
</div>
<script>
  //getCookieValue
  function getCookieValue(a) {
    var b = document.cookie.match('(^|[^;]+)\\s*' + a + '\\s*=\\s*([^;]+)');
    return b
      ? b.pop()
      : '';
  }
  let themeMode = 'dark';
  if (getCookieValue('sb-color-mode') && (getCookieValue('sb-color-mode') !== themeMode)) {
    let dbody = document.body.classList;
    themeMode === 'dark' ? dbody.remove('body--dark') : dbody.add('body--dark');
  }

  //setCookieValue
  var toggleBtn = document.querySelector(".toggle");
  toggleBtn.addEventListener("click", function () {
    var e = document.body.classList.contains("body--dark");
    var cookieString = e
      ? "dark"
      : "light";
    var exp = new Date();
    exp.setTime(exp.getTime() + 3 * 24 * 60 * 60 * 1000); //3天过期
    document.cookie = "sb-color-mode=" + cookieString + ";expires=" + exp.toGMTString() + ";path=/";
  });
</script>

		

		<!-- Gitter -->
		
		<!-- Gitter -->
<!-- Docs:https://gitter.im/?utm_source=left-menu-logo -->
<script>
  ((window.gitter = {}).chat = {}).options = {
    room: 'your-community/your-room'
  };
</script>
<script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script>

		

		<!-- Navigation (contains search)-->
		<!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header page-scroll">
      <button type="button" class="navbar-toggle">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">茗茗之中</a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <!-- Known Issue, found by Hux: <nav>'s height woule be hold on by its content. so, when navbar scale out, the <nav> will cover tags. also mask any touch event of tags, unfortunately. -->
    <div id="huxblog_navbar">
      <div class="navbar-collapse">
        <ul class="nav navbar-nav navbar-right">
          <li>
            <a href="/">首页</a>
          </li>

          
          
          
          
          <li>
            <a href="/about/">
              
              关于
              
              
            </a>
          </li>
          
          
          
          <li>
            <a href="/archive/">
              
              归档
              
              
            </a>
          </li>
          
          
          
          <li>
            <a href="/categories/">
              
              分类
              
              
            </a>
          </li>
          
          
          
          <li>
            <a href="/tags/">
              
              标签
              
              
            </a>
          </li>
          
          

          
          <li>
            <a class="popup-trigger">
              <span class="search-icon"></span>搜索</a>
          </li>
          

          <!-- LangSelect -->
          
        </ul>
      </div>
    </div>
    <!-- /.navbar-collapse -->
  </div>
  <!-- /.container -->
</nav>
<!-- progress -->
<div id="progress">
  <div class="line" style="width: 0%;"></div>
</div>

<script>
  // Drop Bootstarp low-performance Navbar Use customize navbar with high-quality material design animation in high-perf jank-free CSS3 implementation
  var $body = document.body;
  var $toggle = document.querySelector('.navbar-toggle');
  var $navbar = document.querySelector('#huxblog_navbar');
  var $collapse = document.querySelector('.navbar-collapse');

  $toggle.addEventListener('click', handleMagic)

  function handleMagic(e) {
    if ($navbar.className.indexOf('in') > 0) {
      // CLOSE
      $navbar.className = " ";
      // wait until animation end.
      setTimeout(function() {
        // prevent frequently toggle
        if ($navbar.className.indexOf('in') < 0) {
          $collapse.style.height = "0px"
        }
      }, 400)
    } else {
      // OPEN
      $collapse.style.height = "auto"
      $navbar.className += " in";
    }
  }
</script>


		<!-- Post Header (contains intro-header、signature、wordcount、busuanzi、waveoverlay) -->
		<!-- Modified by Yu-Hsuan Yen -->
<!-- Post Header -->

  <!-- CDN: jsdelivr start -->
  <style type="text/css">
    .body--light {
      /* intro-header */
      --intro-header-background-image-url-home: url('https://cdn.jsdelivr.net/gh/Sagiring/Sagiring.github.io/img/header_img/my_love.png');
      --intro-header-background-image-url-post: url('https://cdn.jsdelivr.net/gh/Sagiring/Sagiring.github.iomy_love.png');
      --intro-header-background-image-url-page: url('https://cdn.jsdelivr.net/gh/Sagiring/Sagiring.github.io/my_love.png');
    }
    .body--dark {
      --intro-header-background-image-url-home: linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.2)), url('https://cdn.jsdelivr.net/gh/Sagiring/Sagiring.github.io/img/header_img/my_love.png');
      --intro-header-background-image-url-post: linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.2)), url('https://cdn.jsdelivr.net/gh/Sagiring/Sagiring.github.iomy_love.png');
      --intro-header-background-image-url-page: linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.2)), url('https://cdn.jsdelivr.net/gh/Sagiring/Sagiring.github.io/my_love.png');
    }
    header.intro-header {
       /*post*/
        background-image: var(--intro-header-background-image-url-post);
        /* background-image: url('https://cdn.jsdelivr.net/gh/Sagiring/Sagiring.github.iomy_love.png'); */
      
    }

    
  </style>
  <!-- CDN: jsdelivr end -->





<header class="intro-header">
  <!-- Signature -->
  <div id="signature">
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
          
          <div class="post-heading">
            <div class="tags">
              
              <a class="tag" href="/tags/#学科" title="学科">学科</a>
              
            </div>
            <h1>计算机网络学习</h1>
            <h2 class="subheading"></h2>
            <span class="meta">
              Posted by 茗 on
              2023-06-19
            </span>


            
            <!-- WordCount start -->
            <div class="blank_box"></div>
            <span class="meta">
              Estimated Reading Time <span class="post-count">33</span> Minutes
            </span>
            <div class="blank_box"></div>
            <span class="meta">
              Words <span class="post-count">9.1k</span> In Total
            </span>
            <div class="blank_box"></div>
            <!-- WordCount end -->
            
            
            <!-- 不蒜子统计 start -->
            <span class="meta" id="busuanzi_container_page_pv">
              Viewed <span id="busuanzi_value_page_pv"><i class="fa fa-spinner fa-spin"></i></span> Times
            </span>
            <!-- 不蒜子统计 end -->
            


          </div>
          
        </div>
      </div>
    </div>
  </div>

  

</header>



		<!-- Main Content (Post contains
	Pager、
	tip、
	socialshare、
	gitalk、gitment、disqus-comment、
	Catalog、
	Sidebar、
	Featured-Tags、
	Friends Blog、
	anchorjs、
	) -->
		<!-- Modify by Yu-Hsuan Yen -->
<!-- Post Content -->

<article>
  <div class="container">
    <div class="row">
      <!-- Post Container -->
      <div class="col-lg-8 col-lg-offset-1 col-md-10 col-md-offset-1 post-container">
        

        <h1 id="第一章概论">第一章概论</h1>
<h2 id="层级结构">层级结构</h2>
<figure>
<img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230420164600731.png" alt><figcaption>image-20230420164600731</figcaption>
</figure>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="co">&#39;各层的作用&#39;</span> <span class="op">-&gt;</span> 课本</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a><span class="co">&#39;路由器&#39;</span> <span class="op">-&gt;</span> 数据链路层</span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a>（<span class="dv">1</span>） <span class="st">&#39;物理层&#39;</span>：使原始的数据位流能在物理媒体上传输。</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a>（<span class="dv">2</span>） <span class="st">&#39;数据链路层&#39;</span>：位流被组织成数据链协议数据单元（通常称为帧）传输。</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true"></a>（<span class="dv">3</span>） <span class="st">&#39;网络层&#39;</span>：数据以网络协议数据单元（分组）为单位进行传输。</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true"></a>（<span class="dv">4</span>） <span class="st">&#39;传输层&#39;</span>：提供端到端的透明数据运输服务，处理端到端的差错控制和流量控制问题。</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true"></a>（<span class="dv">5</span>） <span class="st">&#39;会话层&#39;</span>（可无）：组织和同步不同的主机上各种进程间的通信。</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true"></a>（<span class="dv">6</span>） <span class="st">&#39;表示层&#39;</span>（可无）：为上层用户提供共同的数据或信息的语法表示转换。</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true"></a>（<span class="dv">7</span>） <span class="st">&#39;应用层&#39;</span>：直接面向用户，提供各种网络应用。</span></code></pre></div>
<h2 id="计算机网络的组成">计算机网络的组成</h2>
<h3 id="网络边缘">网络边缘</h3>
<h4 id="主机之间通信">主机之间通信</h4>
<p>​</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true"></a>    <span class="fl">1.</span> <span class="st">&#39;C/S方式&#39;</span> 不对等</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true"></a>    <span class="fl">2.</span> <span class="st">&#39;P2P方式&#39;</span> 对等</span></code></pre></div>
<h3 id="网络接入链路">网络接入链路</h3>
<h4 id="网络接入方式">网络接入方式</h4>
<p>主机通过接入网络连接到本地ISP的系统</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true"></a>    <span class="fl">1.</span><span class="st">&#39;电话拨号&#39;</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true"></a>        使用<span class="st">&#39;调制解调器&#39;</span> 唯一的<span class="st">&#39;窄带接入&#39;</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true"></a>    <span class="fl">2.</span><span class="st">&#39;ADSL&#39;</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true"></a>        数字用户线路</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true"></a>            基于普通电话线的宽带接入技术</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true"></a>        ADSL:非对称数字用户线路</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true"></a>            上下行速率不同</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true"></a>     <span class="fl">3.</span><span class="st">&#39;线缆接入&#39;</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true"></a>        基于有线电视的线缆调制解调器</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true"></a>     <span class="fl">4.</span><span class="st">&#39;光纤到户&#39;</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true"></a>        光纤接入OAN</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true"></a>        光纤到户FTTH</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true"></a>     <span class="fl">5.</span><span class="st">&#39;局域网&#39;</span>LAN</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true"></a>        主机通过双绞线连接到LAN交换机（或路由器）组成LAN，通过<span class="st">&#39;路由器&#39;</span>连接到Internet</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true"></a>     <span class="fl">6.</span><span class="st">&#39;无线局域网&#39;</span>WLAN</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true"></a>     <span class="fl">7.</span>其它无线接入方式</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true"></a>        蓝牙、卫星</span></code></pre></div>
<figure>
<img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230420172001882.png" alt><figcaption>image-20230420172001882</figcaption>
</figure>
<h3 id="section"></h3>
<h3 id="网络核心">网络核心</h3>
<p>向网络边缘中的大量主机提供连通性</p>
<p>核心设备：路由器</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true"></a><span class="fl">1.</span><span class="st">&#39;电路交换&#39;</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true"></a>    需要预先建立连接</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true"></a>    分为三个阶段 <span class="op">-&gt;</span> 建立连接、通信、释放连接</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true"></a><span class="fl">2.</span><span class="st">&#39;分组交换&#39;</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true"></a>    数据先分成分组后再传输</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true"></a>    每个分组单独选择路径</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true"></a>    路由器中</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true"></a>        把收到的分组先放入缓存(暂时存储)</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true"></a>        查找转发表（路由表），找出到某个目的地址应从哪个端口转发</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true"></a>        把分组送到适当的端口转发出去</span></code></pre></div>
<p>分组交换与电路交换的时延</p>
<figure>
<img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230420173114531.png" alt><figcaption>image-20230420173114531</figcaption>
</figure>
<p>广域网WAN</p>
<h3 id="计算相关">计算相关</h3>
<div class="sourceCode" id="cb6"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true"></a><span class="co">&#39;发送时延&#39;</span> <span class="op">=</span> <span class="st">&#39;数据块长度 / 信道带宽&#39;</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true"></a>    从发送数据块的第一个比特算起，到该数据块的最后一个比特发送完毕所需的时间。</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true"></a><span class="co">&#39;传播时延&#39;</span> <span class="op">=</span> <span class="st">&#39;信道长度 / 信号在信道上的传播速率&#39;</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true"></a>    电磁波在信道中需要传播一定的距离而花费的时间</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true"></a><span class="co">&#39;总时延&#39;</span> <span class="op">=</span> <span class="st">&#39;发送时延 + 传播时延 + 处理时延 + 排队时延&#39;</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true"></a><span class="co">&#39;吞吐量&#39;</span> : 每秒能够成功传输的数据量</span></code></pre></div>
<h3 id="分层体系结构">分层体系结构</h3>
<div class="sourceCode" id="cb7"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true"></a><span class="co">&#39;实体&#39;</span>表示任何可发送或接收信息的硬件或软件进程。</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true"></a><span class="co">&#39;协议&#39;</span>是控制两个对等实体进行通信的规则的集合。</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true"></a>    在协议的控制下，两个对等实体间的通信使得本层能够向上一层提供服务。</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true"></a>    要实现本层协议，还需要使用下层所提供的服务。</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true"></a><span class="co">&#39;服务访问点&#39;</span>SAP:同一系统相邻两层的实体进行交互的地方</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true"></a><span class="co">&#39;协议&#39;</span>是<span class="st">&quot;水平&quot;</span>的，即协议是控制对等实体之间通信的规则</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true"></a><span class="co">&#39;服务&#39;</span>是<span class="st">&quot;垂直&quot;</span>的，即服务是由下层向上层通过层间接口提供的</span></code></pre></div>
<h1 id="第二章应用层">第二章应用层</h1>
<h2 id="应用层的体系结构">应用层的体系结构</h2>
<h3 id="cs-和-p2p">C/S 和 P2P</h3>
<p>​ C/S体系 客户端和服务器（进程）</p>
<p>​ P2P体系 没有严格的服务器-客户机之分</p>
<p>不同主机间通信的接口：Sockets</p>
<h2 id="进程标识">进程标识</h2>
<div class="sourceCode" id="cb8"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true"></a> <span class="co">&#39;主机IP地址&#39;</span> <span class="op">+</span> <span class="st">&#39;进程端口号&#39;</span></span></code></pre></div>
<h2 id="dns">DNS</h2>
<p>​ 端口号53</p>
<p>​ 完成域名与IP地址的转换</p>
<p>​ 采用C/S模型，传输层采用UDP，服务器访问端口号是53，是其他应用层协议的支撑协议</p>
<p>​ <img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230418111753323.png" alt="image-20230418111753323"></p>
<h3 id="dns服务器">DNS服务器</h3>
<p>每个区设置相应的<strong>权威服务器</strong>，来保存和维护该区中所有域名到IP地址的映射</p>
<p>根域名服务器（Root Name Server）</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true"></a><span class="fl">1.</span> 为下级域名服务器提供域名解析服务 </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true"></a><span class="fl">2.</span> 它需要知道全部顶级域名服务器的地址。 </span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true"></a><span class="fl">3.</span> 数量很少，由于历史原因，主要分布在北美地区 </span></code></pre></div>
<p>顶级域名服务器（Top level Name Server）</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true"></a><span class="fl">1.</span>负责管理该顶级域名服务器注册的所有二级域名 </span></code></pre></div>
<p>权威域名服务器（Authoritative Name Server）</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true"></a><span class="fl">1.</span> 每台因特网中的主机都应该在所在域的域名服务器中注册， 提供注册的域名服务器就是该主机的权威域名服务器。 </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true"></a><span class="fl">2.</span> 一般来说，权威域名服务器是主机所在单位的DNS服务器 </span></code></pre></div>
<p>本地域名服务器（Local Name Server）</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true"></a><span class="fl">1.</span> 即每个组织<span class="op">/</span>企业的DNS服务器</span></code></pre></div>
<h3 id="dns名字解析">DNS名字解析</h3>
<h4 id="迭代查询">迭代查询</h4>
<div class="sourceCode" id="cb13"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true"></a>当根域名服务器收到本地域名服务器发出的迭代查询请求报文时，要么给出所要查询的 IP 地址，要么告诉本地服务器：“你下一步应当向哪一个域名服务器进行查询”。然后让本地服务器进行后续的查询。</span></code></pre></div>
<figure>
<img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230420175404003.png" alt><figcaption>image-20230420175404003</figcaption>
</figure>
<h4 id="递归查询">递归查询</h4>
<div class="sourceCode" id="cb14"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true"></a>如果主机所询问的本地域名服务器不知道被查询的域名的IP地址，那么<span class="st">&#39;本地域名服务器&#39;</span>就以DNS客户的<span class="st">&#39;身份&#39;</span>，向其它根域名服务器继续发出查询请求报文(即替主机继续查询)，而<span class="st">&#39;不是让主机自己&#39;</span>进行下一步查询。因此，递归查询返回的查询结果或者是所要查询的 IP 地址，或者是报错，表示无法查询到所需的 IP 地址。</span></code></pre></div>
<figure>
<img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230420175617581.png" alt><figcaption>image-20230420175617581</figcaption>
</figure>
<div class="sourceCode" id="cb15"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true"></a>总结：</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true"></a><span class="co">&#39;递归查询&#39;</span>是客户端解析器发送请求到本地DNS服务器，本地DNS服务器负责完成查询并提供完整响应。</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true"></a><span class="co">&#39;迭代查询&#39;</span>是请求发送到服务器，如果服务器不能匹配请求，将提供另一个负责解析这个域名空间的服务器，客户端将查询请求重新发送到这个新的DNS服务器上。</span></code></pre></div>
<p>(DNS资源记录)</p>
<h3 id="dns协议消息">DNS协议消息</h3>
<p>包括：请求/应答</p>
<h2 id="www与http">WWW与HTTP</h2>
<p>​ C/S模式</p>
<p>​ HTTP与HTML</p>
<p>​ HTTP端口80，要求TCP</p>
<p>网页分类为</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true"></a><span class="fl">1.</span>静态网页</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true"></a>    以文件形式保存<span class="op">\</span>不同的用户、不同时间访问，返回相同的结果</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true"></a><span class="fl">2.</span>动态网页</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true"></a>    收到浏览器请求后，服务器端动态生成网页</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true"></a><span class="fl">3.</span>活跃网页</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true"></a>    收到服务器响应后，客户端动态生成网页</span></code></pre></div>
<h3 id="http连接">HTTP连接</h3>
<div class="sourceCode" id="cb17"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true"></a><span class="fl">1.</span><span class="st">&#39;HTTP 1.0&#39;</span>    </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true"></a>    <span class="co">&#39;非持久连接&#39;</span> <span class="op">-&gt;</span> 一个连接只传输一个对象</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true"></a>     每个对象都会有<span class="dv">2</span>×RTT <span class="op">-&gt;</span> <span class="dv">1</span>个TCP <span class="dv">1</span>个HTTP</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true"></a><span class="fl">2.</span><span class="st">&#39;HTTP 1.1&#39;</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true"></a>    <span class="co">&#39;持久连接&#39;</span> <span class="op">-&gt;</span> 一个TCP连接可以传输多个对象</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true"></a>        <span class="co">&#39;流水线&#39;</span> <span class="op">-&gt;</span> Client可以连续发出多个请求，而不必等待前一个请求的响应完成</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true"></a>    </span></code></pre></div>
<h4 id="image-20230421102029815"><img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230421102029815.png" alt="image-20230421102029815"></h4>
<h4 id="rttround-trip-time往返时间">RTT(Round Trip Time)往返时间</h4>
<figure>
<img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230421101402236.png" alt><figcaption>image-20230421101402236</figcaption>
</figure>
<h4 id="http消息">HTTP消息</h4>
<p>请求与响应</p>
<figure>
<img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230421102317409.png" alt><figcaption>image-20230421102317409</figcaption>
</figure>
<figure>
<img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230421102344625.png" alt><figcaption>image-20230421102344625</figcaption>
</figure>
<p>Cookie</p>
<p>Web服务器对于访问用户的 标识信息，可用于识别用户、 记录用户信息和访问情况</p>
<p>代理服务器 (Proxy Server)</p>
<p>在浏览器程序中设置通过代理访问、浏览器将所有HTTP请求均发送给代理</p>
<p>浏览器Caching： 浏览器缓存访问过的网页，进一步减少网络负载</p>
<p>​ 条件GET -&gt; 在HTTP请求中包含对象的最后更新时间：</p>
<figure>
<img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230421103226728.png" alt><figcaption>image-20230421103226728</figcaption>
</figure>
<h2 id="email">Email</h2>
<p>​ 构成</p>
<p>​ 用户代理(user agents, UA)</p>
<p>​ 邮件服务器(mail servers)</p>
<p>​ 邮件传输协议：SMTP</p>
<p>​ 邮件访问协议：POP3或IMAP</p>
<h3 id="email过程">Email过程</h3>
<figure>
<img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230421103521624.png" alt><figcaption>image-20230421103521624</figcaption>
</figure>
<p>格式 -&gt; RFC5322</p>
<figure>
<img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230421103634786.png" alt><figcaption>image-20230421103634786</figcaption>
</figure>
<h3 id="通信协议">通信协议</h3>
<div class="sourceCode" id="cb18"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true"></a>通信协议</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true"></a>    <span class="fl">1.</span> <span class="st">&#39;SMTP&#39;</span> <span class="op">-&gt;</span> push服务</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true"></a>         port <span class="dv">25</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true"></a>         直接传输：邮件直接从发信人的服务器传输到收信人的服务器，而不由中间服务器转发</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true"></a>        命令: ASCII文本</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true"></a>        应答: 状态码和短语</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true"></a>         在邮件数据结束时用 <span class="st">&quot;(只包含&#39;.&#39;的一行)来判断邮件结束&quot;</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true"></a></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true"></a>    <span class="fl">2.</span> <span class="st">&#39;POP3&#39;</span> <span class="op">/</span> <span class="st">&#39;IMAP&#39;</span> <span class="op">-&gt;</span> pull服务</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true"></a>        <span class="co">&#39;POP3&#39;</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true"></a>            port <span class="dv">110</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true"></a>            对用户进行身份认证、下载邮件到用户计算机</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true"></a>         <span class="co">&#39;IMAP&#39;</span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true"></a>            port <span class="dv">143</span></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true"></a>            可以在邮件服务器上处理邮件</span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true"></a>     <span class="fl">3.</span> Webmail <span class="op">-&gt;</span> <span class="st">&#39;HTTP&#39;</span></span></code></pre></div>
<figure>
<img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230421104241693.png" alt><figcaption>image-20230421104241693</figcaption>
</figure>
<h4 id="mime">MIME</h4>
<p>通用因特网邮件扩充 -&gt; 在邮件头增加字段，说明媒体数据的类型</p>
<figure>
<img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230421104628546.png" alt><figcaption>image-20230421104628546</figcaption>
</figure>
<h4 id="base64">Base64</h4>
<h4 id="ssl协议-为smtp-与pop3提供安全传输">SSL协议 为SMTP 与POP3提供安全传输</h4>
<h2 id="ftp">FTP</h2>
<p>​ C/S</p>
<h3 id="两个tcp连接">两个TCP连接</h3>
<div class="sourceCode" id="cb19"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true"></a><span class="fl">1.</span><span class="st">&#39;控制连接 &#39;</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true"></a>    port <span class="dv">21</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true"></a>    进行身份验证</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true"></a>    传输命令和响应</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true"></a>    持久连接：在访问期间，控制连接一直存在</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true"></a></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true"></a><span class="fl">2.</span><span class="st">&#39;数据连接&#39;</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true"></a>    port <span class="dv">20</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true"></a>    数据传输完，连接即关闭</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true"></a>    临时连接:如果要传输下一个文件，需要重新建立数据连接</span></code></pre></div>
<figure>
<img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230421105225386.png" alt><figcaption>image-20230421105225386</figcaption>
</figure>
<h2 id="telnet">Telnet</h2>
<div class="sourceCode" id="cb20"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true"></a>    <span class="co">&#39;C/S&#39;</span> <span class="st">&#39;TCP&#39;</span>  port <span class="dv">23</span></span></code></pre></div>
<h3 id="nvt格式">NVT格式</h3>
<p>由于终端和主机数据格式不统一 -&gt; 标准的数据格式</p>
<p>TELNET 客户和服务器完成NVT格式和 本系统格式之间的转换</p>
<p><img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230421110007644.png" alt="image-20230421110007644"><img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230421110022132.png" alt="image-20230421110022132"></p>
<p>8为字符：</p>
<figure>
<img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230421105558811.png" alt><figcaption>image-20230421105558811</figcaption>
</figure>
<h2 id="本章重点">本章重点</h2>
<div class="sourceCode" id="cb21"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true"></a>掌握DNS、WWW、Email的应用层协议的要点和原理、FTP和Telnet的功能及主要概念</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true"></a><span class="fl">1.</span>集中式<span class="op">/</span>分布式</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true"></a><span class="fl">2.</span>C<span class="op">/</span>S vs P2P</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true"></a><span class="fl">3.</span>传输要求：可靠<span class="op">/</span>不可靠</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true"></a><span class="fl">4.</span>选择TCP或UDP</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true"></a><span class="fl">5.</span>控制信息vs. 数据信息</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true"></a><span class="fl">6.</span>是否在同一条连接上传输</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true"></a><span class="fl">7.</span>有状态<span class="op">/</span>无状态</span></code></pre></div>
<h1 id="第三章传输层">第三章传输层</h1>
<h2 id="传输层">传输层</h2>
<div class="sourceCode" id="cb22"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true"></a><span class="fl">1.</span><span class="st">&#39;传输层&#39;</span>:为不同主机上的应用<span class="st">&#39;进程&#39;</span>提供逻辑通信功能</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true"></a>    将应用层消息封装成报文段 (segments)或数据报，然后交给网络层</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true"></a></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true"></a><span class="fl">2.</span><span class="st">&#39;网络层&#39;</span>:负责<span class="st">&#39;主机&#39;</span>之间的通信</span></code></pre></div>
<p><img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/Pasted_image.png"></p>
<h2 id="复用与解复用">复用与解复用</h2>
<figure>
<img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230421110255916.png" alt><figcaption>image-20230421110255916</figcaption>
</figure>
<div class="sourceCode" id="cb23"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true"></a><span class="co">&#39;多路复用&#39;</span>：传输层多个应用进程的消息在同一个网络接口上传输</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true"></a></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true"></a><span class="co">&#39;复用&#39;</span>：源主机消息传输层在网络层前加源端口号于目的端口</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true"></a></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true"></a><span class="co">&#39;解复用&#39;</span>：传输层在目的主机上反向解包</span></code></pre></div>
<h2 id="可靠数据传输-rdt">可靠数据传输 RDT</h2>
<h3 id="数据传输协议">数据传输协议</h3>
<div class="sourceCode" id="cb24"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true"></a><span class="co">&#39;停止-等待ARQ协议&#39;</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true"></a><span class="co">&#39;Go-back-N协议&#39;</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true"></a><span class="co">&#39;选择重传协议&#39;</span></span></code></pre></div>
<h3 id="出错丢失处理">出错，丢失处理</h3>
<div class="sourceCode" id="cb25"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true"></a><span class="co">&#39;不错&#39;</span>：</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true"></a>    查错 纠错：</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true"></a>    <span class="fl">1.</span> 直接纠错 </span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true"></a>    <span class="fl">2.</span> <span class="st">&#39;重传&#39;</span>（ACK对 NAK错）</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true"></a><span class="co">&#39;不丢&#39;</span>：</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true"></a>    <span class="co">&#39;定时器&#39;</span>，<span class="st">&#39;超时重发&#39;</span> ，<span class="st">&#39;序号&#39;</span> （ACK与包）, <span class="st">&#39;ARQ自动重传请求&#39;</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true"></a>    <span class="fl">1.</span> Data丢失 </span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true"></a>    <span class="fl">2.</span> ACK丢失 <span class="op">-&gt;</span> 重复包 <span class="op">&lt;-</span> <span class="st">&#39;序号&#39;</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true"></a>        ACK的序号 <span class="op">=</span> <span class="st">&#39;下一个包的序号&#39;</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true"></a>        数据包的序号 <span class="op">=</span> 当前包的序号</span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true"></a>    （NAK不需要了）</span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true"></a>重复，乱序 <span class="op">-&gt;</span> 序号 1bit (<span class="dv">0</span>,<span class="dv">1</span>)</span></code></pre></div>
<h3 id="计算性能指标">计算性能指标！</h3>
<h4 id="一次传输">一次传输</h4>
<div class="sourceCode" id="cb26"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true"></a>Data发送 Tt</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true"></a>传播 Tp</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true"></a>ACK Tp</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true"></a><span class="co">&#39;总和&#39;</span> <span class="op">=</span> <span class="st">&#39;Tt + 2Tp&#39;</span></span></code></pre></div>
<h4 id="信道利用率-发送时间成功传输总时间">信道利用率 ：发送时间/成功传输总时间</h4>
<figure>
<img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/计算机网络学习_image_2.png" alt><figcaption>计算机网络学习_image_2</figcaption>
</figure>
<figure>
<img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230417214434477.png" alt><figcaption>image-20230417214434477</figcaption>
</figure>
<h3 id="流水线">流水线</h3>
<p>在收到ACK之前，发送方可以连续发送多个 数据包</p>
<h3 id="连续arq协议">连续ARQ协议</h3>
<h4 id="回退n步协议-go-back-n">回退N步协议 ： Go-Back-N</h4>
<div class="sourceCode" id="cb27"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true"></a>一次<span class="st">&#39;发N个&#39;</span>包（收到ACK之前）</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true"></a>一次<span class="st">&#39;只能收1个&#39;</span>包 （按序接收）</span></code></pre></div>
<p><img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/计算机网络学习_image_3.png"></p>
<div class="sourceCode" id="cb28"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true"></a>滑动窗口：</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true"></a>    <span class="fl">1.</span> 发送窗口 <span class="dv">1</span><span class="op">&lt;</span>Wt <span class="op">=&lt;</span> <span class="op">==</span><span class="dv">2</span><span class="op">^</span>n <span class="op">-</span> <span class="dv">1</span><span class="op">==</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true"></a>    <span class="fl">2.</span> 接收窗口 Wr <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true"></a>累积ACK ：ACK m  <span class="op">-&gt;</span> 确认 m 及以前</span></code></pre></div>
<p><img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/计算机网络学习_image_4.png"></p>
<div class="sourceCode" id="cb29"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true"></a><span class="co">&#39;发送窗口&#39;</span>最大值为 <span class="st">&#39;2^n -1&#39;</span> <span class="op">-&gt;</span> 防止最后一个<span class="st">&#39;重复包&#39;</span>无法识别</span></code></pre></div>
<figure>
<img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230417225613780.png" alt><figcaption>image-20230417225613780</figcaption>
</figure>
<h3 id="选择重传协议">选择重传协议</h3>
<div class="sourceCode" id="cb30"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true"></a>Ws <span class="op">+</span> Wr  <span class="op">=&lt;</span> <span class="dv">2</span><span class="op">^</span>n</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true"></a>一般取Ws <span class="op">=</span> Wr <span class="op">=</span> <span class="dv">2</span><span class="op">^</span>(n<span class="op">-</span><span class="dv">1</span>)</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true"></a> <span class="co">&#39;只重传出错的数据包&#39;</span></span></code></pre></div>
<figure>
<img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230421111138821.png" alt><figcaption>image-20230421111138821</figcaption>
</figure>
<h2 id="udp">UDP</h2>
<div class="sourceCode" id="cb31"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true"></a><span class="co">&#39;无连接协议&#39;</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true"></a>快，但是<span class="st">&#39;不提供可靠&#39;</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true"></a>可靠要应用层自己实现</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true"></a><span class="co">&#39;无拥塞控制&#39;</span>：不考虑网络状况，UDP数据可以尽快发送</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true"></a>应用：</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true"></a>    <span class="fl">1.</span>多媒体应用（如流媒体）</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true"></a>    <span class="fl">2.</span>DNS</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true"></a>    <span class="fl">3.</span>网络管理协议(SNMP)</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true"></a>    <span class="fl">4.</span>路由表更新</span></code></pre></div>
<h3 id="udp的数据报格式">UDP的数据报格式</h3>
<div class="sourceCode" id="cb32"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true"></a>报头：固定为<span class="st">&#39;8字节&#39;</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true"></a>    <span class="fl">1.</span>源端口号：<span class="dv">16</span>位</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true"></a>    <span class="fl">2.</span>目的端口号：<span class="dv">16</span>位</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true"></a>    <span class="fl">3.</span>数据报长度：<span class="dv">16</span>位，以字节为单位，表示<span class="st">&#39;报头+数据&#39;</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true"></a>    <span class="fl">4.</span>校验和：<span class="dv">16</span>位</span></code></pre></div>
<figure>
<img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230421111619123.png" alt><figcaption>image-20230421111619123</figcaption>
</figure>
<h4 id="校验和">校验和:<img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/计算机网络学习_image_5.png"></h4>
<p>这里的1的补码是指：最高位进位到最低位</p>
<h2 id="tcp">TCP</h2>
<p>面向连接、端到端传输</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true"></a><span class="fl">1.</span>功能：</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true"></a>    <span class="fl">1.</span>采用连续ARQ协议，流水线方式工作</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true"></a>    <span class="fl">2.</span>流量控制</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true"></a>    <span class="fl">3.</span>拥塞控制</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true"></a>    <span class="fl">4.</span>可靠、按序的<span class="st">&#39;字节流&#39;</span> 传输</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true"></a> <span class="fl">2.</span> 不能保证上层消息的<span class="st">&#39;边界&#39;</span></span></code></pre></div>
<h3 id="报文段">报文段</h3>
<div class="sourceCode" id="cb34"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true"></a>段头长度 4bit  数值表示的<span class="st">&#39;单位为4字节&#39;</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true"></a>可变段头长度值 <span class="dv">5</span>～<span class="dv">15</span> 即 20B～60B</span></code></pre></div>
<figure>
<img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230421112044451.png" alt><figcaption>image-20230421112044451</figcaption>
</figure>
<h3 id="tcp连接建立示例">TCP连接建立示例</h3>
<p><img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/计算机网络学习_image_6.png"></p>
<h3 id="tcp连接释放">TCP连接释放</h3>
<p><img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/计算机网络学习_image_7.png"></p>
<h4 id="建立连接例题">建立连接例题</h4>
<p><img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/计算机网络学习_image_8.jpg"> server先发...</p>
<h3 id="动态滑动窗口">动态滑动窗口</h3>
<p>（发送窗口不超过对端通知的接收窗口值）</p>
<h3 id="tcp环境下rto的估计">TCP环境下RTO的估计</h3>
<p><strong>计算</strong></p>
<div class="sourceCode" id="cb35"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true"></a>算超时定时器的时间</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true"></a><span class="co">&#39;RTT估计值&#39;</span> <span class="op">=</span> <span class="st">&#39;∂ * RTT估值历史 + （1 - ∂ ）* RTT的测量值&#39;</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true"></a>如何记忆？（一般取历史值比例大，想要比较稳定，不想变动太大）</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true"></a></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true"></a><span class="co">&#39;RTT测量值&#39;</span> <span class="op">=</span> <span class="st">&#39;ACK到达时刻 - TCP报文段发送时刻&#39;</span></span></code></pre></div>
<h3 id="tcp的流量控制">TCP的流量控制</h3>
<p>接收方反馈： 接收窗口 字段说明了接收方最多可以接收的数据字节数</p>
<h3 id="提高效率">提高效率</h3>
<div class="sourceCode" id="cb36"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true"></a><span class="co">&#39;MSS&#39;</span>：最大报文段长度，一个报文段中的最大数据长度，在建立连接时协商</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true"></a><span class="co">&#39;Nagle算法 MSS&#39;</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true"></a>    应用层数据长度 <span class="op">&gt;=</span> MSS <span class="kw">and</span> 接收窗口 <span class="op">&gt;=</span> MSS ,</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true"></a>        发送数据长度为MSS的报文段</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true"></a>    <span class="cf">else</span>....</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true"></a>Clark算法 在较大缓存时，才发送窗口更新通知</span></code></pre></div>
<h3 id="拥塞控制">拥塞控制</h3>
<div class="sourceCode" id="cb37"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true"></a> <span class="fl">1.</span> 开环控制</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true"></a> <span class="fl">2.</span> 闭环方法</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true"></a>     ECN 显式拥塞通知</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true"></a>     ECE 对ECN的响应，告诉原主机</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true"></a>     CWR 对ECE的响应，通知接收主机，已收到拥塞通知</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true"></a></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true"></a>TCP用塞控制</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true"></a>发送窗口 <span class="op">&lt;=</span> Min (对方的接收窗口, 拥塞窗口)cwnd </span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true"></a>                流量控制       拥塞控制</span></code></pre></div>
<h4 id="慢启动阶段ss">1.慢启动阶段SS</h4>
<div class="sourceCode" id="cb38"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true"></a>cwnd <span class="op">=</span> 1MSS 但 指数级增长 <span class="op">-&gt;</span> x2</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true"></a>增长到 </span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true"></a><span class="fl">1.</span> 达到阈值</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true"></a><span class="fl">2.</span> 出现数据丢失</span></code></pre></div>
<h4 id="拥塞避免阶段ca">2.拥塞避免阶段CA</h4>
<div class="sourceCode" id="cb39"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true"></a>每收到一个ACK，cwnd <span class="op">=</span> cwnd <span class="op">+</span> <span class="dv">1</span><span class="op">/</span>本轮开始到cwnd</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true"></a>线性增长AI <span class="op">--&gt;</span> <span class="st">&quot;一轮结束cwnd = cwnd + 1&quot;</span></span></code></pre></div>
<h4 id="出现数据丢失-md">3.出现数据丢失 MD</h4>
<div class="sourceCode" id="cb40"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true"></a><span class="fl">1.</span> 定时器超时 <span class="op">-&gt;</span> cwnd <span class="op">=</span><span class="dv">1</span> <span class="kw">and</span> 阈值 <span class="op">=</span> <span class="st">&quot;当前&quot;</span>cwnd<span class="op">/</span><span class="dv">2</span> （新的SS）</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true"></a><span class="fl">2.</span> <span class="dv">3</span>次重复的ACK <span class="op">-&gt;</span> 阈值 <span class="op">=</span> cwnd<span class="op">/</span><span class="dv">2</span> <span class="kw">and</span> cwnd <span class="op">=</span> 阈值 （开始新的AI)</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true"></a>        (快速重传)</span></code></pre></div>
<p><img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/计算机网络学习_image_9.png"></p>
<p><strong>计算效率必考～</strong></p>
<h1 id="第四章网络层">第四章网络层</h1>
<p>功能 路由选择(查表选择下一跳) 转发分组(IP包) 网络互联(不同网络协议大转换，IP包的分段/重装)</p>
<p>虚电路网络</p>
<p>数据报网络</p>
<h2 id="路由选择算法路由表的由来">路由选择算法（路由表的由来）</h2>
<p>根据数据包中携带的目的地址，路由器查表，然后选择==下一跳(Next Hop)==而不是完整路由。</p>
<p>转发与路由选择不同。路由选择有查表。</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true"></a><span class="fl">1.</span> 静态选路算法</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true"></a>   路由表生成 </span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true"></a>   <span class="fl">1.</span> Dijakstra算法 生成固定表</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true"></a>   <span class="fl">2.</span> 洪泛法 <span class="op">-&gt;</span> 除输入接口,向所有接口转发</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true"></a>   <span class="fl">3.</span> 随机走动选路法 （了解一下）</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true"></a></span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true"></a><span class="fl">2.</span> 动态选路算法 DVR与LSR</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true"></a>   测量路由、更新路由信息的协议、计算路由开销</span></code></pre></div>
<h3 id="距离矢量选路算法dvr">距离矢量选路算法DVR</h3>
<p>​ 周期性的与邻居节点交换路由信息 -&gt; 交换路由表中的距离项（目的地、距离）</p>
<p>​ <img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/Pasted%20image%2020230413144201.png"> ​ 优缺点： ​ 优点 -&gt; 计算简单、开销小 ​ 缺点 -&gt; 坏消息传播慢,路径消息可能不一致,路径信息不一致，信息量大，不适合大型网络 ​ <img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/Pasted%20image%2020230413144128.png"> ​ （BA = BC + CA 环路)交换着提升次数</p>
<h3 id="链路状态选路算法-lsr-spf">链路状态选路算法 LSR 、SPF</h3>
<div class="sourceCode" id="cb42"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true"></a>使用Dijkstra算法计算最短路径</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true"></a>    路由器之间通过交换路由信息，构造出全网拓扑结构，再计算</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true"></a>    其中</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true"></a>        Who <span class="op">-&gt;</span> 与网络全部节点交换</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true"></a>        What <span class="op">-&gt;</span> 交换一个节点到各邻节点到开销</span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true"></a>        When <span class="op">-&gt;</span> 在网络初启动或者链路变化时</span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true"></a>    优点</span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true"></a>        信息一致性好，适用于大型网络</span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true"></a>    缺点</span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true"></a>        路由器需要较大的存储空间</span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true"></a>        最短路径计算工作量大</span></code></pre></div>
<h2 id="网络层协议">网络层协议</h2>
<h3 id="ip地址">IP地址</h3>
<div class="sourceCode" id="cb43"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true"></a>构成 网络号<span class="op">+</span>主机号 <span class="dv">32</span>位</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true"></a>一个网络接口有一个IP地址</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true"></a>路由器总是具有两个或以上的IP地址，且每个接口都有一个不同网络号IP地址</span></code></pre></div>
<p><img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/Pasted%20image%2020230420132034.png"></p>
<h3 id="子网">子网</h3>
<div class="sourceCode" id="cb44"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true"></a>从主机号拿出几位作为子网号</span></code></pre></div>
<h3 id="子网掩码">子网掩码</h3>
<div class="sourceCode" id="cb45"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true"></a>子网掩码 <span class="kw">and</span> IP地址 （与操作） 得到 网络号</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true"></a>逐位计算</span></code></pre></div>
<p><img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/Pasted%20image%2020230420134000.png"></p>
<h3 id="超网">超网</h3>
<div class="sourceCode" id="cb46"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true"></a>小网络合并大网络 把网络号拿过来用</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true"></a>超网掩码</span></code></pre></div>
<h3 id="无类别地址-cidr">无类别地址 CIDR</h3>
<div class="sourceCode" id="cb47"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true"></a>IP地址  <span class="op">=</span> 网络地址<span class="op">/</span>x </span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true"></a>x为网络号位数</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true"></a>计算</span></code></pre></div>
<p><img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/Pasted%20image%2020230420144136.png"> <img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/Pasted%20image%2020230420144254.jpg"> 两种方法～</p>
<h3 id="nat">NAT</h3>
<p>完成私有地址和全局地址的转换</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true"></a>功能与方法</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true"></a>网络私有地址</span></code></pre></div>
<p><img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230507161912850.png"></p>
<p><img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230507161944846.png"></p>
<h2 id="ip">IP</h2>
<h3 id="dhcp">DHCP</h3>
<div class="sourceCode" id="cb49"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true"></a>C<span class="op">/</span>S模式，服务器端口号为 <span class="dv">67</span>  客户端口号为 <span class="dv">68</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true"></a>采用 UDP 传输</span></code></pre></div>
<h4 id="ip包">IP包</h4>
<h5 id="构成">构成</h5>
<p><img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230507162209645.png"></p>
<div class="sourceCode" id="cb50"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true"></a><span class="co">&#39;包头长度&#39;</span> 单位是 <span class="st">&#39;4字节&#39;</span> </span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true"></a><span class="co">&#39;协议字段&#39;</span>:</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true"></a>  TCP<span class="op">=</span><span class="dv">6</span></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true"></a>  UDP<span class="op">=</span><span class="dv">17</span></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true"></a>  ICMP<span class="op">=</span><span class="dv">1</span></span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true"></a>  IGMP<span class="op">=</span><span class="dv">2</span></span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true"></a>  OSPF<span class="op">=</span><span class="dv">89</span></span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true"></a><span class="co">&#39;包头校验和&#39;</span></span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true"></a>    与UDP、TCP校验算法相同</span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true"></a><span class="co">&#39;标识&#39;</span> <span class="dv">16</span>位</span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true"></a><span class="co">&#39;DF&#39;</span> <span class="dv">1</span>位 是否可分    DF<span class="op">=</span><span class="dv">1</span>的IP数据报不允许分段</span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true"></a><span class="co">&#39;MF&#39;</span> <span class="dv">1</span>位 是否为最后一位     MF<span class="op">=</span><span class="dv">0</span>的IP包是最后一个片段</span>
<span id="cb50-13"><a href="#cb50-13" aria-hidden="true"></a><span class="co">&#39;段偏移量&#39;</span> <span class="dv">13</span>位  单位为 <span class="st">&#39;8字节&#39;</span> <span class="st">&#39;64bit&#39;</span></span>
<span id="cb50-14"><a href="#cb50-14" aria-hidden="true"></a></span>
<span id="cb50-15"><a href="#cb50-15" aria-hidden="true"></a><span class="fl">1.</span>若 MF <span class="op">=</span> <span class="dv">0</span> ， 偏移量也为 <span class="dv">0</span> </span>
<span id="cb50-16"><a href="#cb50-16" aria-hidden="true"></a>    则该包是未分过的数据报</span></code></pre></div>
<h4 id="icmp">ICMP</h4>
<div class="sourceCode" id="cb51"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true"></a>ICMP 报文作为 IP 数据报的数据，加上数据报的首部， 组成 IP 数据报发送出去。</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true"></a></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true"></a>差错报告</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true"></a>    目的地不可达：到目的主机无连接；IP包超长且不能分段</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true"></a>控制消息</span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true"></a>    源抑制消息：路由器或者目的主机的缓存不足，请求源主机 降低发送速率，用于拥塞控制</span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true"></a>    重定向消息：要求源主机更换默认路由器，用于路由控制</span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true"></a>查询消息</span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true"></a>    回声请求<span class="op">/</span>应答：测试路由器或目的主机是否可达</span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true"></a>    时间戳请求<span class="op">/</span>应答：用于互联网上各个机器进行时钟同步</span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true"></a>PING 使用了 ICMP 回声请求<span class="op">/</span>应答报文</span></code></pre></div>
<h2 id="因特网的选路体系">因特网的选路体系</h2>
<div class="sourceCode" id="cb52"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true"></a>因特网采用<span class="st">&#39;分层次的路由选择&#39;</span>协议，将整个互联网分成很多<span class="st">&#39;自治系统AS&#39;</span></span></code></pre></div>
<h3 id="两类路由选择协议">两类路由选择协议</h3>
<div class="sourceCode" id="cb53"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true"></a><span class="co">&#39;内部网关协议&#39;</span> IGP</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true"></a>    在一个自治系统内部使用，如<span class="st">&#39;RIP&#39;</span> 和 <span class="st">&#39;OSPF&#39;</span> 协议</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true"></a><span class="co">&#39;外部网关协议&#39;</span> EGP</span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true"></a>    在自治系统之间使用，如<span class="st">&#39;BGP-4&#39;</span>协议</span></code></pre></div>
<p><img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230507163714113.png"></p>
<h4 id="算法">算法</h4>
<h5 id="rip">RIP</h5>
<div class="sourceCode" id="cb54"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true"></a>基于<span class="st">&#39;距离矢量算法&#39;</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true"></a>距离：跳数</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true"></a>问题 无穷计算</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true"></a>限制网络规模：RIP（网络直径<span class="op">&lt;</span><span class="dv">16</span>跳）</span></code></pre></div>
<h5 id="ospf">OSPF</h5>
<div class="sourceCode" id="cb55"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true"></a>基于<span class="st">&#39;链路状态选路&#39;</span>算法</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true"></a>经过信息交换，每个路由器都知道全网的拓扑结构，</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true"></a>因此不会出现无穷计算问题</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true"></a>支持分级选路</span></code></pre></div>
<h5 id="bgp">BGP</h5>
<div class="sourceCode" id="cb56"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true"></a>AS边界路由器使用BGP来交换路由信息，包含完整的</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true"></a>路径信息</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true"></a>  <span class="co">&#39;路径矢量算法&#39;</span></span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true"></a>  主要关注的不是最短路由，而是可达性</span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true"></a>  AS间的路由选择的可靠性要求较高，采用TCP传输，</span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true"></a>端口号<span class="dv">179</span></span></code></pre></div>
<h2 id="组播">组播</h2>
<p>源主机只发送一次数据，由路由器复制并转发给其他组成员主机</p>
<h3 id="组播地址">组播地址</h3>
<p><img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230507164411070.png"> <span class="math display">\[
共2^{28}个组地址\\
组地址由IANA分配\\
组地址只能用于目的地址，不能用于源地址\\
主机发送组播数据时，IP包的目的地址为组播地址
\]</span> <img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230507164600234.png"></p>
<h3 id="igmp">IGMP</h3>
<p>因特网组管理协议</p>
<h3 id="应用层组播">(应用层组播)</h3>
<h2 id="路由器">路由器</h2>
<div class="sourceCode" id="cb57"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true"></a>路由器采取<span class="st">&#39;存储-转发&#39;</span>方式工作。</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true"></a>若路由器处理包的速率低于包进入队列的速率，则队列的存储空间将一直减少到零，后面再进入队列的分组只能被丢弃。</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true"></a>路由器中的输入或输出队列产生溢出是造成IP包丢失的重要原因。</span></code></pre></div>
<p><img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230507164831022.png"></p>
<h3 id="队列调度算法">队列调度算法</h3>
<div class="sourceCode" id="cb58"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true"></a><span class="fl">1.</span> FIFO队列</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true"></a><span class="fl">2.</span> 优先级队列 PQ</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true"></a><span class="fl">3.</span> 加权公平队列 WFQ</span></code></pre></div>
<h3 id="路由表">路由表</h3>
<pre><code>1. 目的地址、子网掩码、下一跳地址、接口编号
2. 表项排列顺序
    1）直达网络，即下一跳是目的主机所在的网络， 数据可以直接交付目的主机
    2）特定主机选路表项：路由表中的目的地址是 主机地址
    3）非直达网络，即下一跳是另一个路由器
    4）默认路由，即下一跳是默认路由器</code></pre>
<p><img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230507165247205.png"></p>
<h2 id="ipv6">IPv6</h2>
<pre><code>1. 更大的地址空间：16字节，128位
2. 包头简化：只有7个字段，取消了分段相关字段和校验和，以便更快地处理IP包，提高路由器的吞吐量，缩短延时
3. 更好地支持选项：选项有次序，以便路由器可简单地跳过与它无关的选项，加快分组的处理速度
4. 增强了安全性：身份认证和加密
5. 更加关注服务质量：支持多媒体应用</code></pre>
<p><img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230507165422959.png"></p>
<figure>
<img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230507165506653.png" alt><figcaption>对IPv4包头的修改</figcaption>
</figure>
<figure>
<img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230507165518369.png" alt><figcaption>IPv6包格式</figcaption>
</figure>
<h3 id="ipv6与ipv4的互通">IPv6与IPv4的互通</h3>
<div class="sourceCode" id="cb61"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true"></a><span class="fl">1.</span> <span class="st">&#39;双栈方案&#39;</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true"></a><span class="fl">2.</span> <span class="st">&#39;隧道方案&#39;</span></span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true"></a><span class="fl">3.</span> <span class="st">&#39;包头翻译方案&#39;</span></span></code></pre></div>
<h2 id="第五章-数据链路层">第五章 数据链路层</h2>
<h3 id="为什么需要数据链路层">为什么需要数据链路层？</h3>
<p>物理信道是不可靠的!</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true"></a>需要进行<span class="st">&#39;差错检测和纠正&#39;</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true"></a></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true"></a>需要进行<span class="st">&#39;流量控制&#39;</span></span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true"></a></span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true"></a>数据链路层实现<span class="st">&#39;相邻主机/路由器&#39;</span>间的<span class="st">&#39;可靠&#39;</span>的数据传输</span></code></pre></div>
<h3 id="主要功能">主要功能</h3>
<div class="sourceCode" id="cb63"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true"></a><span class="co">&#39;链路管理&#39;</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true"></a>数据链路的建立、维护和释放，以提供面向连接的服务</span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true"></a><span class="co">&#39;封装成帧&#39;</span></span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true"></a>将网络层的数据（如IP包）加上首部和尾部，组成帧</span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true"></a><span class="co">&#39;差错控制&#39;</span></span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true"></a>检查物理层的传输差错，并纠正错误</span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true"></a><span class="co">&#39;流量控制&#39;</span></span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true"></a>防止发送方发送太快而淹没接收方</span>
<span id="cb63-9"><a href="#cb63-9" aria-hidden="true"></a><span class="co">&#39;透明传输&#39;</span></span>
<span id="cb63-10"><a href="#cb63-10" aria-hidden="true"></a>允许网络层的数据包含任何比特序列</span>
<span id="cb63-11"><a href="#cb63-11" aria-hidden="true"></a><span class="co">&#39;链路寻址&#39;</span></span>
<span id="cb63-12"><a href="#cb63-12" aria-hidden="true"></a>给网卡编址（物理地址<span class="op">/</span>硬件地址）</span></code></pre></div>
<h3 id="服务">服务</h3>
<div class="sourceCode" id="cb64"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true"></a>无确认的无连接服务</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true"></a>有确认的无连接服务</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true"></a>面向连接的服务</span></code></pre></div>
<p>数据链路层协议一般由网卡实现</p>
<h3 id="概念">概念</h3>
<h4 id="数据链路和帧">数据链路和帧</h4>
<div class="sourceCode" id="cb65"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true"></a><span class="co">&#39;帧&#39;</span>：数据链路层处理的数据单元（PDU: 协议数据单元）</span></code></pre></div>
<h3 id="成帧">成帧</h3>
<p><img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230528195559877.png"></p>
<h4 id="成帧方法">成帧方法</h4>
<div class="sourceCode" id="cb66"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true"></a><span class="co">&#39;字符计数法&#39;</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true"></a>    在帧中增加一个长度字段，表示帧的总字节数</span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true"></a><span class="co">&#39;字符填充法&#39;</span></span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true"></a>    采用固定的字符作为帧首部和尾部</span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true"></a>    透明传输：帧的数据中可以 包含任何字符（位序列），即可以出现与帧首、帧尾相同的字符</span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true"></a>    字符填充：一旦数据中出现和帧首<span class="op">/</span>尾字符相同的字符，则填充转义字符，以进行区别</span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true"></a><span class="co">&#39;零比特填充法&#39;</span></span>
<span id="cb66-8"><a href="#cb66-8" aria-hidden="true"></a>    帧首尾标志：<span class="st">&#39;0111 1110&#39;</span></span>
<span id="cb66-9"><a href="#cb66-9" aria-hidden="true"></a>    当帧中的数据出现连续<span class="dv">5</span>个<span class="dv">1</span>时，在其后插入一个<span class="dv">0</span></span>
<span id="cb66-10"><a href="#cb66-10" aria-hidden="true"></a><span class="co">&#39;物理层编码违例法&#39;</span></span>
<span id="cb66-11"><a href="#cb66-11" aria-hidden="true"></a>    曼彻斯特编码:码元中间的跳变表示<span class="dv">0</span>和<span class="dv">1</span></span></code></pre></div>
<p><img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230530104027712.png"></p>
<p><img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230530104356460.png"></p>
<h3 id="差错控制">差错控制</h3>
<div class="sourceCode" id="cb67"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true"></a><span class="co">&#39;奇偶校验&#39;</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true"></a>    检错码：发送方在传输的数据中加入校验信息，接收方通过计算可以发现传输差错</span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true"></a>    检错能力：如果发生错误的比特总数为奇数个，能发现</span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true"></a><span class="co">&#39;循环冗余校验&#39;</span></span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true"></a>    像AES的那个列混合</span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true"></a>    <span class="co">&#39;CRC的计算方法&#39;</span></span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true"></a>    若生成多项式G(x)为r<span class="op">+</span><span class="dv">1</span>个比特，即最高阶为r，则在待校验数据后面增加r个0</span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true"></a>    采用模二除法，除以G(x)</span>
<span id="cb67-9"><a href="#cb67-9" aria-hidden="true"></a>        对应比特异或</span>
<span id="cb67-10"><a href="#cb67-10" aria-hidden="true"></a>        不进位、不借位</span>
<span id="cb67-11"><a href="#cb67-11" aria-hidden="true"></a>    余数即是所求的校验码 </span>
<span id="cb67-12"><a href="#cb67-12" aria-hidden="true"></a>    将余数附在数据之后发送到信道上</span></code></pre></div>
<p><img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230528201848135.png"></p>
<h3 id="差错纠正方法">差错纠正方法</h3>
<div class="sourceCode" id="cb68"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true"></a><span class="co">&#39;重传&#39;</span>（ARQ协议）</span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true"></a> 发送方发送完一帧数据后，启动一个定时器</span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true"></a> 接收方发现错误后，丢弃收到的数据帧</span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true"></a> 发送方定时器超时，重发数据帧</span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true"></a><span class="co">&#39;纠错码&#39;</span></span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true"></a> 校验码足够长，不但能够检测出差错，而且能够发现差错的位置，直接恢复原始数据</span>
<span id="cb68-7"><a href="#cb68-7" aria-hidden="true"></a> 示例：汉明码（Hamming code，海明码），能纠正单比特翻转错误</span></code></pre></div>
<h3 id="物理地址mac">物理地址MAC</h3>
<p>前24位为生产厂商标识OUI（Organizationally Unique Identifier）</p>
<p>后24位为由厂商设定的内部编号</p>
<h4 id="arp">ARP</h4>
<p>将IP地址转换为MAC地址</p>
<h5 id="arp缓存表">ARP缓存表</h5>
<div class="sourceCode" id="cb69"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true"></a><span class="fl">1.</span> LAN的每个站点都有一个ARP缓存表，记录MAC地址与IP地址的 映射关系</span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true"></a></span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true"></a><span class="fl">2.</span> 在LAN内发送IP包之前，源节点<span class="st">&#39;广播ARP请求&#39;</span>，包含目的节点的 IP地址</span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true"></a></span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true"></a><span class="fl">3.</span> 目的节点将自己的MAC地址放到<span class="st">&#39;ARP响应&#39;</span>中，<span class="st">&#39;单播&#39;</span>发送给源节点</span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true"></a></span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true"></a><span class="fl">4.</span> 源节点将ARP映射关系加入ARP表</span>
<span id="cb69-8"><a href="#cb69-8" aria-hidden="true"></a></span>
<span id="cb69-9"><a href="#cb69-9" aria-hidden="true"></a><span class="fl">5.</span> ARP缓存表会定时删除无用的内容</span></code></pre></div>
<p><img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230528202701919.png"></p>
<h3 id="帧结构">帧结构</h3>
<div class="sourceCode" id="cb70"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true"></a>在以太网中，数据链路层封装IP包的过程如下：</span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true"></a><span class="fl">1.</span> 首先，将<span class="st">&#39;IP包&#39;</span>添加到数据链路层的<span class="st">&#39;数据部分&#39;</span>。</span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true"></a><span class="dv">2</span>． 在数据链路层的<span class="st">&#39;头部&#39;</span>添加以太网的目标<span class="st">&#39; MAC地址和源MAC地址&#39;</span>，用于标识数据包的接收方和发送方。</span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true"></a><span class="fl">3.</span> 在数据链路层的<span class="st">&#39;尾部&#39;</span>添加<span class="st">&#39;帧检验序列 (FCS)年手数据的错误检测&#39;</span>。封装完成后，数据链路层将帧发送到物理介质上，供接收方的数据链路层解封装并将数据包传递给网络层进行处理。</span></code></pre></div>
<p><img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230530131417992.png"></p>
<h4 id="hdlc协议">HDLC协议</h4>
<div class="sourceCode" id="cb71"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true"></a>高级数据链路控制规程</span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true"></a>面向比特的协议，支持全双工传输</span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true"></a>提供<span class="st">&#39;面向连接&#39;</span>的服务</span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true"></a>采用<span class="st">&#39;零比特填充&#39;</span>方式实现透明传输</span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true"></a>采用<span class="st">&#39;ARQ协议&#39;</span>实现差错控制和流量控制</span></code></pre></div>
<div class="sourceCode" id="cb72"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true"></a>数据帧和控制帧采用统一的帧结构</span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true"></a>帧首尾标志：<span class="st">&#39;0111 1110&#39;</span></span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true"></a>地址：从站<span class="op">/</span>应答站的地址</span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true"></a>FCS：采用CRC<span class="op">-</span><span class="dv">16</span>计算出的校验信息</span></code></pre></div>
<p><img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230530112128188.png"></p>
<h4 id="ppp协议">PPP协议</h4>
<p>点对点协议</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true"></a>提供了建立<span class="st">&#39;数据链路连接&#39;</span>、<span class="st">&#39;用户认证&#39;</span>、<span class="st">&#39;帧头压缩&#39;</span>协商等多种能力</span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true"></a>PPP取消了HDLC的下列功能：</span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true"></a>    <span class="co">&#39;差错恢复&#39;</span>（只检错不纠错）</span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true"></a>    <span class="co">&#39;流量控制&#39;</span></span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true"></a>    <span class="co">&#39;序号&#39;</span></span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true"></a>    点到多点链路</span></code></pre></div>
<p><code>PPP</code>的帧格式：<code>PPPoE</code></p>
<p><img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230528204652814.png"></p>
<div class="sourceCode" id="cb74"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true"></a><span class="co">&#39;面向字符&#39;</span>，即整个帧的长度为字节的整数倍</span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true"></a>地址：FF表示任意站点</span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true"></a>控制：03表示无编号帧（没有序号）</span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true"></a>协议：表示数据部分是哪个协议的数据包，例如LCP、</span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true"></a>NCP、IP、IPX、AppleTalk……</span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true"></a>FCS：采用CRC<span class="op">-</span><span class="dv">16</span></span></code></pre></div>
<h3 id="arp欺骗">ARP欺骗</h3>
<h1 id="第六章-局域网lan">第六章 局域网（LAN）</h1>
<h2 id="简介">简介</h2>
<p>数据链路层：实现相邻节点间的通信</p>
<p>两种信道类型</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true"></a><span class="fl">1.</span> 点到点信道</span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true"></a><span class="fl">2.</span> 广播信</span></code></pre></div>
<div class="sourceCode" id="cb76"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true"></a><span class="co">&#39;LAN&#39;</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true"></a>    多个站点（主机）共享信道</span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true"></a>    <span class="co">&#39;1对多&#39;</span>通信：帧需要携带目的地址</span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true"></a>    如何避免<span class="op">/</span>减少冲突？ ——介质访问控制（MAC）协议</span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true"></a></span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true"></a><span class="co">&#39;LAN&#39;</span>：物理层 功能：</span>
<span id="cb76-7"><a href="#cb76-7" aria-hidden="true"></a>    位流（bit stream，比特流<span class="op">/</span>位串）的传输与接收</span>
<span id="cb76-8"><a href="#cb76-8" aria-hidden="true"></a>    前同步码的产生与识别</span>
<span id="cb76-9"><a href="#cb76-9" aria-hidden="true"></a>    确定与传输介质接口的特性</span>
<span id="cb76-10"><a href="#cb76-10" aria-hidden="true"></a>    信号的编码和译码</span>
<span id="cb76-11"><a href="#cb76-11" aria-hidden="true"></a>    </span>
<span id="cb76-12"><a href="#cb76-12" aria-hidden="true"></a><span class="co">&#39;LAN&#39;</span>：数据链路层</span>
<span id="cb76-13"><a href="#cb76-13" aria-hidden="true"></a>    LAN对 LLC 子层是透明的</span>
<span id="cb76-14"><a href="#cb76-14" aria-hidden="true"></a>    各LAN的LLC子层相同，差别在于MAC子层和物理层</span></code></pre></div>
<p>数据链路层分为两个子层：逻辑链路控制子层和介质访问控制子层</p>
<h3 id="llc子层的功能">LLC子层的功能</h3>
<div class="sourceCode" id="cb77"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true"></a>遵循IEEE802<span class="fl">.2</span>标准</span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true"></a> 向高层提供统一的链路访问形式</span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true"></a> 成帧<span class="op">/</span>拆帧</span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true"></a> 建立<span class="op">/</span>释放逻辑连接</span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true"></a> 差错控制</span>
<span id="cb77-6"><a href="#cb77-6" aria-hidden="true"></a> 帧序号处理</span>
<span id="cb77-7"><a href="#cb77-7" aria-hidden="true"></a> 提供网络层接口</span>
<span id="cb77-8"><a href="#cb77-8" aria-hidden="true"></a> 不同的LAN标准，LLC子层都是一样的</span>
<span id="cb77-9"><a href="#cb77-9" aria-hidden="true"></a> 区别在于MAC子层和物理层</span></code></pre></div>
<figure>
<img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230528210951437.png" alt><figcaption>image-20230528210951437</figcaption>
</figure>
<h3 id="mac子层的功能">MAC子层的功能</h3>
<div class="sourceCode" id="cb78"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true"></a><span class="co">&#39;发送站点&#39;</span>：封装LLC帧、组成带有地址和校验码的MAC帧</span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true"></a><span class="co">&#39;接收站点&#39;</span>：对MAC帧进行拆卸，执行地址识别和差错校验</span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true"></a>实现和维护MAC协议</span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true"></a>MAC帧的大致格式</span></code></pre></div>
<h2 id="介质访问控制mac方法">介质访问控制（MAC）方法</h2>
<div class="sourceCode" id="cb79"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true"></a>广播信道：多个站点共享同一信道。</span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true"></a>    各站点如何访问共享信道？</span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true"></a>    如何解决同时访问造成的冲突（信道争用）？</span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true"></a>    <span class="co">&#39;介质（媒体）访问控制(MAC)&#39;</span></span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true"></a>信道共享技术：</span>
<span id="cb79-6"><a href="#cb79-6" aria-hidden="true"></a>• 静态分配（FDM、WDM、TDM、CDM）</span>
<span id="cb79-7"><a href="#cb79-7" aria-hidden="true"></a>    分配固定带宽，不适用于LAN</span>
<span id="cb79-8"><a href="#cb79-8" aria-hidden="true"></a>    动态分配（随机接入、受控接入）</span>
<span id="cb79-9"><a href="#cb79-9" aria-hidden="true"></a>    <span class="co">&#39;CSMA/CD&#39;</span>、预约、集中控制（如轮询、传递令牌）</span></code></pre></div>
<h2 id="以太网">以太网</h2>
<p>CSMA/CD 协议</p>
<p>载波监听多点接入/冲突检测协议</p>
<h3 id="mac协议要点">MAC协议要点</h3>
<div class="sourceCode" id="cb80"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true"></a>多个站点如何安全地使用共享信道？</span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true"></a><span class="co">&#39;载波监听&#39;</span>(CSMA)：发送前先检测一下其它站点是否正在发送（即信道是否忙）</span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true"></a>    若信道空闲，是否可以立即发送？ <span class="op">-&gt;</span> 立即发送（<span class="dv">1</span>坚持的CSMA）</span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true"></a>    若信道忙，如何处理？<span class="op">-&gt;</span> 继续监听，等到信道空闲后立即发送</span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true"></a>    一旦出现两个站点同时发送的情况，如何处理？</span>
<span id="cb80-6"><a href="#cb80-6" aria-hidden="true"></a><span class="co">&#39;冲突检测&#39;</span>(CD)：边发送边检测是否有冲突</span>
<span id="cb80-7"><a href="#cb80-7" aria-hidden="true"></a>    若不冲突，持续发送，直到发完</span>
<span id="cb80-8"><a href="#cb80-8" aria-hidden="true"></a>    若冲突，停止发送</span></code></pre></div>
<p>发前先听，空闲即发送；边发边听，冲突时退避</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true"></a>发送数据帧的站点，在发送后最多经过 <span class="st">&#39;2t&#39;</span> (端到端的往返传播时延) 可以发现是否有冲突</span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true"></a>以太网的争用期（冲突窗口）：<span class="st">&#39;2&#39;</span></span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true"></a>经过争用期之后还没有检测到冲突，则不会冲突</span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true"></a>以太网的最短帧长：<span class="st">&#39;64&#39;</span>字节</span></code></pre></div>
<p>等待多久才能重发?</p>
<p>截断二进制指数算法</p>
<figure>
<img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230529164258979.png" alt><figcaption>image-20230529164258979</figcaption>
</figure>
<p>以太网的帧格式</p>
<figure>
<img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230529164332212.png" alt><figcaption>image-20230529164332212</figcaption>
</figure>
<p>无效的MAC帧丢弃</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true"></a>帧的长度不是整数个字节</span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true"></a>校验查出有错</span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true"></a>数据字段的长度不在 <span class="dv">46</span> <span class="op">~</span> <span class="dv">1500</span> 字节之间</span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true"></a>有效 MAC 帧长度不在 <span class="dv">64</span> <span class="op">~</span> <span class="dv">1518</span> 字节之间</span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true"></a>IEEE802<span class="fl">.3</span>数据帧，数据字段的长度与长度字段的值不一致</span></code></pre></div>
<p>帧间最小间隔（IFG）</p>
<h2 id="无线局域网wlan">无线局域网（WLAN）</h2>
<p>CSMA/CD不适用</p>
<p>隐蔽站问题、暴露站问题</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true"></a>增加冲突避免(Collision Avoidance)，尽量减少冲突概率 <span class="st">&#39;CSMA/CA&#39;</span></span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true"></a>发送前设法避免冲突的发生</span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true"></a>“冲突避免”采用了三种机制</span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true"></a>    <span class="co">&#39;预约信道&#39;</span>：发送站点向其他站点通告本站点将要占用信道的时间，其他站点将设置为“信道忙”</span>
<span id="cb83-5"><a href="#cb83-5" aria-hidden="true"></a>    <span class="co">&#39;ACK&#39;</span>：接收站点的确认</span>
<span id="cb83-6"><a href="#cb83-6" aria-hidden="true"></a>    <span class="co">&#39;握手&#39;</span>：RTS<span class="op">/</span>CTS，解决隐蔽站问题</span>
<span id="cb83-7"><a href="#cb83-7" aria-hidden="true"></a>    </span>
<span id="cb83-8"><a href="#cb83-8" aria-hidden="true"></a>帧间间隔 <span class="st">&#39;IFS&#39;</span>(InterFrameSpace)</span>
<span id="cb83-9"><a href="#cb83-9" aria-hidden="true"></a>为避免冲突，站点在完成发送后，必须再等待一段很短的时间(持续监听)才能发送下一帧</span>
<span id="cb83-10"><a href="#cb83-10" aria-hidden="true"></a>帧间间隔长度取决于帧的优先级</span>
<span id="cb83-11"><a href="#cb83-11" aria-hidden="true"></a>    高优先级帧IFS较短，优先发送</span>
<span id="cb83-12"><a href="#cb83-12" aria-hidden="true"></a>    低优先级帧IFS较长；且在发送之前若其他站的高优先级帧已到达，则信道变为忙，低优先级帧只能再推迟发送</span></code></pre></div>
<p><img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230529171736886.png"></p>
<p>DIFS，即分布协调功能帧间间隔</p>
<p>SIFS，即短 (Short) 帧间间隔</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true"></a>冲突避免措施：</span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true"></a><span class="co">&#39;虚拟载波监听&#39;</span></span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true"></a>    目的：发送站预约信道，以减少冲突，</span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true"></a>    原理：源站将要占用信道的时间(包括目的站发回确认帧所需的时间)通知所有其他站，以使其他站在这一段时间都停止发送 方法：源站在 MAC 帧头中的 “持续时间”字段中填入发送之后要占用信道的时间(μs)“虚拟载波监听”：站点并没有监听信道，而是由于收到“源站的通知”才不发送数据</span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true"></a>    应用<span class="st">&#39;NAV&#39;</span>网络分配向量</span>
<span id="cb84-6"><a href="#cb84-6" aria-hidden="true"></a>        站点根据收到的 MAC 帧头的“持续时间”字段来调整自己的NAV</span>
<span id="cb84-7"><a href="#cb84-7" aria-hidden="true"></a>        NAV 指出了信道持续忙的时间（即经过多少时间才能完成数据帧的这次传输，然后信道才能转为空闲）</span>
<span id="cb84-8"><a href="#cb84-8" aria-hidden="true"></a><span class="co">&#39;争用窗口与退避&#39;</span></span>
<span id="cb84-9"><a href="#cb84-9" aria-hidden="true"></a>    信道从忙态变为空闲时，任何一个站要发送数据帧，不仅必须等待 DIFS ，而且还要进入争用窗口，根据退避时间确定能否发送</span>
<span id="cb84-10"><a href="#cb84-10" aria-hidden="true"></a>    争用窗口：各站点争用信道的时间段，其时间取决于站点最短的剩余退避时间</span>
<span id="cb84-11"><a href="#cb84-11" aria-hidden="true"></a>        在信道从忙态转为空闲时，各站就要执行退避算法，减少了发生冲突的概率</span>
<span id="cb84-12"><a href="#cb84-12" aria-hidden="true"></a>        二进制指数退避算法</span>
<span id="cb84-13"><a href="#cb84-13" aria-hidden="true"></a>        <span class="co">&#39;退避计时器&#39;</span></span>
<span id="cb84-14"><a href="#cb84-14" aria-hidden="true"></a>            若检测到信道空闲，退避计时器就继续倒计时</span>
<span id="cb84-15"><a href="#cb84-15" aria-hidden="true"></a>            若检测到信道忙，就冻结退避计时器的剩余时间，重新等待信道变为空闲，并再经过时间 DIFS 后，从剩余时间开始继续倒计时</span>
<span id="cb84-16"><a href="#cb84-16" aria-hidden="true"></a>            退避计时器的时间减小到零时，开始发送整个数据帧</span>
<span id="cb84-17"><a href="#cb84-17" aria-hidden="true"></a><span class="co">&#39;握手预约（可选）&#39;</span></span></code></pre></div>
<p><img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230529173008591.png"></p>
<p><img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230529172807057.png"></p>
<h2 id="数据链路层互连设备">数据链路层互连设备</h2>
<h3 id="网桥与交换机">网桥与交换机</h3>
<div class="sourceCode" id="cb85"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true"></a><span class="co">&#39;中继器、集线器&#39;</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true"></a>    <span class="co">&#39;复制信号&#39;</span>，再生放大，转发到所有端口；属于一个LAN，<span class="st">&#39;一个冲突域（共享以太网）&#39;</span></span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true"></a>    </span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true"></a><span class="co">&#39;网桥(Bridge)连接两个或多个LAN&#39;</span></span>
<span id="cb85-5"><a href="#cb85-5" aria-hidden="true"></a>    根据 MAC 帧的目的地址对收到的帧进行转发</span>
<span id="cb85-6"><a href="#cb85-6" aria-hidden="true"></a>    网桥具有<span class="st">&#39;过滤帧&#39;</span>的功能：网桥收到一个帧时，不是向所有端口转发，而是先检查此帧的目的 MAC 地址，然后再根据站表确定将该帧转发到哪一个端口，或者丢弃（过滤）</span>
<span id="cb85-7"><a href="#cb85-7" aria-hidden="true"></a>    <span class="fl">1.</span> 优点</span>
<span id="cb85-8"><a href="#cb85-8" aria-hidden="true"></a>        过滤通信量，增大吞吐量；分隔冲突域；扩大了物理范围；提高了可靠性</span>
<span id="cb85-9"><a href="#cb85-9" aria-hidden="true"></a>        LAN互连</span>
<span id="cb85-10"><a href="#cb85-10" aria-hidden="true"></a>    <span class="fl">2.</span> 缺点</span>
<span id="cb85-11"><a href="#cb85-11" aria-hidden="true"></a>        增加处理时延、没有流量控制功能、广播风暴</span>
<span id="cb85-12"><a href="#cb85-12" aria-hidden="true"></a>    常用：透明网桥</span>
<span id="cb85-13"><a href="#cb85-13" aria-hidden="true"></a>    建立转发表 <span class="op">-&gt;</span> 逆向学习</span>
<span id="cb85-14"><a href="#cb85-14" aria-hidden="true"></a>    网桥的工作过程:</span>
<span id="cb85-15"><a href="#cb85-15" aria-hidden="true"></a>        网桥收到一帧后，先进行<span class="st">&#39;逆向学习&#39;</span>，查找转发表中是否有该帧的源地址</span>
<span id="cb85-16"><a href="#cb85-16" aria-hidden="true"></a>            若没有，就增加一个表项（源地址、进入端口和时间）</span>
<span id="cb85-17"><a href="#cb85-17" aria-hidden="true"></a>            若有，则更新原表项</span>
<span id="cb85-18"><a href="#cb85-18" aria-hidden="true"></a>        转发帧：查找转发表中是否有该帧的目的地址</span>
<span id="cb85-19"><a href="#cb85-19" aria-hidden="true"></a>            若没有，则洪泛转发，即转发到所有其他端口</span>
<span id="cb85-20"><a href="#cb85-20" aria-hidden="true"></a>            若有（且不是进入端口），则转发到表中的对应端口 若有且等于进入端口，则丢弃这个帧（过滤）</span>
<span id="cb85-21"><a href="#cb85-21" aria-hidden="true"></a>            对于广播帧，则洪泛转发</span>
<span id="cb85-22"><a href="#cb85-22" aria-hidden="true"></a>多端口网桥：<span class="st">&#39;以太网交换机&#39;</span></span></code></pre></div>
<p><img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230529173636589.png"></p>
<h1 id="第七章物理层">第七章物理层</h1>
<p>物理层的功能和主要概念</p>
<p>数据通信的基本概念和理论基础</p>
<p>常用的调制、编码和复用的方法要点</p>
<p>HUB的功能</p>
<h2 id="概念-1">概念</h2>
<p>模拟信号与数字信号</p>
<p>双绞线与同轴电缆与光纤、无线电</p>
<h2 id="最大数据率信道容量公式">最大数据率（信道容量）公式</h2>
<p><img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230605110426114.png"></p>
<h2 id="调制技术和编码技术">调制技术和编码技术</h2>
<p>基本调制方法</p>
<p><img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230605110957566.png"></p>
<h3 id="多级调制方法">多级调制方法</h3>
<p>pass</p>
<h3 id="数字数据编码技术">数字数据编码技术</h3>
<p><img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230605111240496.png"></p>
<h3 id="脉冲编码调制pcm">脉冲编码调制PCM</h3>
<h4 id="奈奎斯特nyquest采样定理">奈奎斯特（Nyquest）采样定理</h4>
<p>pass</p>
<h2 id="复用">复用</h2>
<h3 id="频分复用fdm">频分复用FDM</h3>
<p><img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230605111522127.png"></p>
<h3 id="波分复用wdm">波分复用WDM</h3>
<h4 id="按照波长划分子信道">按照波长划分子信道</h4>
<p><img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230605111619444.png"></p>
<h3 id="时分复用tdm">时分复用TDM</h3>
<p><img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230605111657143.png"></p>
<h3 id="同步时分复用示例e1帧">同步时分复用示例：E1帧</h3>
<p><img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230605111724945.png"></p>
<h4 id="同步时分复用的不足">同步时分复用的不足</h4>
<p><img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230605111757499.png"></p>
<h4 id="统计时分复用stdm">统计时分复用STDM</h4>
<p><img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230605111818999.png"></p>
<h2 id="物理层互连设备">物理层互连设备</h2>
<h4 id="中继器">中继器</h4>
<p>连接两个LAN网段(Segment)</p>
<p>将信号再生，以便传输得更远</p>
<p><img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230605111918213.png"></p>
<p>一个冲突域</p>
<h4 id="hub集线器">HUB（集线器）</h4>
<p>多端口中继器</p>
<p>将主机连接起来组成LAN</p>
<p>​ 物理拓扑结构为星形</p>
<p>​ 逻辑拓扑结构为总线形</p>
<p>将信号放大再生</p>
<p>广播信道：从一个端口收到的数据 将转发到所有其他端口</p>
<p>共享式LAN</p>
<p><img src="/cn/Sagiring_markdown/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/image-20230605114645440.png"></p>


        <hr>
        <!-- Pager -->
        <ul class="pager">
          
          <li class="previous">
            <a href="/cn/Sagiring_markdown/SROP/" data-toggle="tooltip" data-placement="top" title="SROP">&larr; Previous Post</a>
          </li>
          
          
          <li class="next">
            <a href="/cn/Sagiring_markdown/操作系统的二三事/" data-toggle="tooltip" data-placement="top" title="操作系统的二三事">Next Post &rarr;</a>
          </li>
          
        </ul>

        

        
        <hr>

        <!-- comments start -->
        <!-- 1. gitalk comment -->

  <!-- gitalk start -->
  <!-- Docs:https://github.com/gitalk/gitalk/blob/master/readme-cn.md -->

  <div id="gitalk-container"></div>

  
    <script src="https://cdn.jsdelivr.net/gh/Sagiring/Sagiring.github.io/js/comment/gitalk.js"></script>
  

  <script>
    var gitalk = new Gitalk({
      clientID: 'd4759980b8c82fe1a32a',
      clientSecret: '0e870d007deb9e146ba167987e446ea4f50dff34',
      repo: 'Sagiring.github.io',
      owner: 'Sagiring',
      admin: 'Sagiring',
      id: 'Mon Jun 19 2023 23:00:00 GMT+0800', // Ensure uniqueness and length less than 50
      distractionFreeMode: false, // Facebook-like distraction free mode
      perPage: 10,
      pagerDirection: 'last',
      createIssueManually: true,
      language: 'zh-CN',
      proxy: 'https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token'
    });
    gitalk.render('gitalk-container');

    var gtFolded = () => {
      setTimeout(function () {
        let markdownBody = document.getElementsByClassName("markdown-body");
        let list = Array.from(markdownBody);
        list.forEach(item => {
          if (item.clientHeight > 250) {
            item.classList.add('gt-comment-body-folded');
            item.style.maxHeight = '250px';
            item.title = 'Click to Expand';
            item.onclick = function () {
              item.classList.remove('gt-comment-body-folded');
              item.style.maxHeight = '';
              item.title = '';
              item.onclick = null;
            };
          }
        })
      }, 800);
    }
  </script>

  <!-- gitalk end -->


<!-- 2. gitment comment -->


<!-- 3. disqus comment -->


        <!-- comments end -->
        <hr>

      </div>

      <!-- Catalog: Tabe of Content -->
      <!-- Table of Contents -->

    
      <aside id="sidebar">
        <div id="toc" class="toc-article">
        <strong class="toc-title">目录</strong>
        
          <ol class="toc-nav"><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#%E7%AC%AC%E4%B8%80%E7%AB%A0%E6%A6%82%E8%AE%BA"><span class="toc-nav-number">1.</span> <span class="toc-nav-text">第一章概论</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E5%B1%82%E7%BA%A7%E7%BB%93%E6%9E%84"><span class="toc-nav-number">1.1.</span> <span class="toc-nav-text">层级结构</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%9A%84%E7%BB%84%E6%88%90"><span class="toc-nav-number">1.2.</span> <span class="toc-nav-text">计算机网络的组成</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E7%BD%91%E7%BB%9C%E8%BE%B9%E7%BC%98"><span class="toc-nav-number">1.2.1.</span> <span class="toc-nav-text">网络边缘</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E4%B8%BB%E6%9C%BA%E4%B9%8B%E9%97%B4%E9%80%9A%E4%BF%A1"><span class="toc-nav-number">1.2.1.1.</span> <span class="toc-nav-text">主机之间通信</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%85%A5%E9%93%BE%E8%B7%AF"><span class="toc-nav-number">1.2.2.</span> <span class="toc-nav-text">网络接入链路</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%85%A5%E6%96%B9%E5%BC%8F"><span class="toc-nav-number">1.2.2.1.</span> <span class="toc-nav-text">网络接入方式</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#section"><span class="toc-nav-number">1.2.3.</span> <span class="toc-nav-text"></span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E7%BD%91%E7%BB%9C%E6%A0%B8%E5%BF%83"><span class="toc-nav-number">1.2.4.</span> <span class="toc-nav-text">网络核心</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E8%AE%A1%E7%AE%97%E7%9B%B8%E5%85%B3"><span class="toc-nav-number">1.2.5.</span> <span class="toc-nav-text">计算相关</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E5%88%86%E5%B1%82%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-nav-number">1.2.6.</span> <span class="toc-nav-text">分层体系结构</span></a></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#%E7%AC%AC%E4%BA%8C%E7%AB%A0%E5%BA%94%E7%94%A8%E5%B1%82"><span class="toc-nav-number">2.</span> <span class="toc-nav-text">第二章应用层</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E5%BA%94%E7%94%A8%E5%B1%82%E7%9A%84%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-nav-number">2.1.</span> <span class="toc-nav-text">应用层的体系结构</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#cs-%E5%92%8C-p2p"><span class="toc-nav-number">2.1.1.</span> <span class="toc-nav-text">C&#x2F;S 和 P2P</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E8%BF%9B%E7%A8%8B%E6%A0%87%E8%AF%86"><span class="toc-nav-number">2.2.</span> <span class="toc-nav-text">进程标识</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#dns"><span class="toc-nav-number">2.3.</span> <span class="toc-nav-text">DNS</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#dns%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-nav-number">2.3.1.</span> <span class="toc-nav-text">DNS服务器</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#dns%E5%90%8D%E5%AD%97%E8%A7%A3%E6%9E%90"><span class="toc-nav-number">2.3.2.</span> <span class="toc-nav-text">DNS名字解析</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E8%BF%AD%E4%BB%A3%E6%9F%A5%E8%AF%A2"><span class="toc-nav-number">2.3.2.1.</span> <span class="toc-nav-text">迭代查询</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E9%80%92%E5%BD%92%E6%9F%A5%E8%AF%A2"><span class="toc-nav-number">2.3.2.2.</span> <span class="toc-nav-text">递归查询</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#dns%E5%8D%8F%E8%AE%AE%E6%B6%88%E6%81%AF"><span class="toc-nav-number">2.3.3.</span> <span class="toc-nav-text">DNS协议消息</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#www%E4%B8%8Ehttp"><span class="toc-nav-number">2.4.</span> <span class="toc-nav-text">WWW与HTTP</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#http%E8%BF%9E%E6%8E%A5"><span class="toc-nav-number">2.4.1.</span> <span class="toc-nav-text">HTTP连接</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#image-20230421102029815"><span class="toc-nav-number">2.4.1.1.</span> <span class="toc-nav-text"></span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#rttround-trip-time%E5%BE%80%E8%BF%94%E6%97%B6%E9%97%B4"><span class="toc-nav-number">2.4.1.2.</span> <span class="toc-nav-text">RTT(Round Trip Time)往返时间</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#http%E6%B6%88%E6%81%AF"><span class="toc-nav-number">2.4.1.3.</span> <span class="toc-nav-text">HTTP消息</span></a></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#email"><span class="toc-nav-number">2.5.</span> <span class="toc-nav-text">Email</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#email%E8%BF%87%E7%A8%8B"><span class="toc-nav-number">2.5.1.</span> <span class="toc-nav-text">Email过程</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE"><span class="toc-nav-number">2.5.2.</span> <span class="toc-nav-text">通信协议</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#mime"><span class="toc-nav-number">2.5.2.1.</span> <span class="toc-nav-text">MIME</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#base64"><span class="toc-nav-number">2.5.2.2.</span> <span class="toc-nav-text">Base64</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#ssl%E5%8D%8F%E8%AE%AE-%E4%B8%BAsmtp-%E4%B8%8Epop3%E6%8F%90%E4%BE%9B%E5%AE%89%E5%85%A8%E4%BC%A0%E8%BE%93"><span class="toc-nav-number">2.5.2.3.</span> <span class="toc-nav-text">SSL协议 为SMTP 与POP3提供安全传输</span></a></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#ftp"><span class="toc-nav-number">2.6.</span> <span class="toc-nav-text">FTP</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E4%B8%A4%E4%B8%AAtcp%E8%BF%9E%E6%8E%A5"><span class="toc-nav-number">2.6.1.</span> <span class="toc-nav-text">两个TCP连接</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#telnet"><span class="toc-nav-number">2.7.</span> <span class="toc-nav-text">Telnet</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#nvt%E6%A0%BC%E5%BC%8F"><span class="toc-nav-number">2.7.1.</span> <span class="toc-nav-text">NVT格式</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E6%9C%AC%E7%AB%A0%E9%87%8D%E7%82%B9"><span class="toc-nav-number">2.8.</span> <span class="toc-nav-text">本章重点</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#%E7%AC%AC%E4%B8%89%E7%AB%A0%E4%BC%A0%E8%BE%93%E5%B1%82"><span class="toc-nav-number">3.</span> <span class="toc-nav-text">第三章传输层</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E4%BC%A0%E8%BE%93%E5%B1%82"><span class="toc-nav-number">3.1.</span> <span class="toc-nav-text">传输层</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E5%A4%8D%E7%94%A8%E4%B8%8E%E8%A7%A3%E5%A4%8D%E7%94%A8"><span class="toc-nav-number">3.2.</span> <span class="toc-nav-text">复用与解复用</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E5%8F%AF%E9%9D%A0%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93-rdt"><span class="toc-nav-number">3.3.</span> <span class="toc-nav-text">可靠数据传输 RDT</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE"><span class="toc-nav-number">3.3.1.</span> <span class="toc-nav-text">数据传输协议</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E5%87%BA%E9%94%99%E4%B8%A2%E5%A4%B1%E5%A4%84%E7%90%86"><span class="toc-nav-number">3.3.2.</span> <span class="toc-nav-text">出错，丢失处理</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E8%AE%A1%E7%AE%97%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87"><span class="toc-nav-number">3.3.3.</span> <span class="toc-nav-text">计算性能指标！</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E4%B8%80%E6%AC%A1%E4%BC%A0%E8%BE%93"><span class="toc-nav-number">3.3.3.1.</span> <span class="toc-nav-text">一次传输</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E4%BF%A1%E9%81%93%E5%88%A9%E7%94%A8%E7%8E%87-%E5%8F%91%E9%80%81%E6%97%B6%E9%97%B4%E6%88%90%E5%8A%9F%E4%BC%A0%E8%BE%93%E6%80%BB%E6%97%B6%E9%97%B4"><span class="toc-nav-number">3.3.3.2.</span> <span class="toc-nav-text">信道利用率 ：发送时间&#x2F;成功传输总时间</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E6%B5%81%E6%B0%B4%E7%BA%BF"><span class="toc-nav-number">3.3.4.</span> <span class="toc-nav-text">流水线</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E8%BF%9E%E7%BB%ADarq%E5%8D%8F%E8%AE%AE"><span class="toc-nav-number">3.3.5.</span> <span class="toc-nav-text">连续ARQ协议</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E5%9B%9E%E9%80%80n%E6%AD%A5%E5%8D%8F%E8%AE%AE-go-back-n"><span class="toc-nav-number">3.3.5.1.</span> <span class="toc-nav-text">回退N步协议 ： Go-Back-N</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E9%80%89%E6%8B%A9%E9%87%8D%E4%BC%A0%E5%8D%8F%E8%AE%AE"><span class="toc-nav-number">3.3.6.</span> <span class="toc-nav-text">选择重传协议</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#udp"><span class="toc-nav-number">3.4.</span> <span class="toc-nav-text">UDP</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#udp%E7%9A%84%E6%95%B0%E6%8D%AE%E6%8A%A5%E6%A0%BC%E5%BC%8F"><span class="toc-nav-number">3.4.1.</span> <span class="toc-nav-text">UDP的数据报格式</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E6%A0%A1%E9%AA%8C%E5%92%8C"><span class="toc-nav-number">3.4.1.1.</span> <span class="toc-nav-text">校验和:</span></a></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#tcp"><span class="toc-nav-number">3.5.</span> <span class="toc-nav-text">TCP</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E6%8A%A5%E6%96%87%E6%AE%B5"><span class="toc-nav-number">3.5.1.</span> <span class="toc-nav-text">报文段</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#tcp%E8%BF%9E%E6%8E%A5%E5%BB%BA%E7%AB%8B%E7%A4%BA%E4%BE%8B"><span class="toc-nav-number">3.5.2.</span> <span class="toc-nav-text">TCP连接建立示例</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#tcp%E8%BF%9E%E6%8E%A5%E9%87%8A%E6%94%BE"><span class="toc-nav-number">3.5.3.</span> <span class="toc-nav-text">TCP连接释放</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E5%BB%BA%E7%AB%8B%E8%BF%9E%E6%8E%A5%E4%BE%8B%E9%A2%98"><span class="toc-nav-number">3.5.3.1.</span> <span class="toc-nav-text">建立连接例题</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E5%8A%A8%E6%80%81%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3"><span class="toc-nav-number">3.5.4.</span> <span class="toc-nav-text">动态滑动窗口</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#tcp%E7%8E%AF%E5%A2%83%E4%B8%8Brto%E7%9A%84%E4%BC%B0%E8%AE%A1"><span class="toc-nav-number">3.5.5.</span> <span class="toc-nav-text">TCP环境下RTO的估计</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#tcp%E7%9A%84%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6"><span class="toc-nav-number">3.5.6.</span> <span class="toc-nav-text">TCP的流量控制</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E6%8F%90%E9%AB%98%E6%95%88%E7%8E%87"><span class="toc-nav-number">3.5.7.</span> <span class="toc-nav-text">提高效率</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6"><span class="toc-nav-number">3.5.8.</span> <span class="toc-nav-text">拥塞控制</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E6%85%A2%E5%90%AF%E5%8A%A8%E9%98%B6%E6%AE%B5ss"><span class="toc-nav-number">3.5.8.1.</span> <span class="toc-nav-text">1.慢启动阶段SS</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E6%8B%A5%E5%A1%9E%E9%81%BF%E5%85%8D%E9%98%B6%E6%AE%B5ca"><span class="toc-nav-number">3.5.8.2.</span> <span class="toc-nav-text">2.拥塞避免阶段CA</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E5%87%BA%E7%8E%B0%E6%95%B0%E6%8D%AE%E4%B8%A2%E5%A4%B1-md"><span class="toc-nav-number">3.5.8.3.</span> <span class="toc-nav-text">3.出现数据丢失 MD</span></a></li></ol></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#%E7%AC%AC%E5%9B%9B%E7%AB%A0%E7%BD%91%E7%BB%9C%E5%B1%82"><span class="toc-nav-number">4.</span> <span class="toc-nav-text">第四章网络层</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E8%B7%AF%E7%94%B1%E9%80%89%E6%8B%A9%E7%AE%97%E6%B3%95%E8%B7%AF%E7%94%B1%E8%A1%A8%E7%9A%84%E7%94%B1%E6%9D%A5"><span class="toc-nav-number">4.1.</span> <span class="toc-nav-text">路由选择算法（路由表的由来）</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E8%B7%9D%E7%A6%BB%E7%9F%A2%E9%87%8F%E9%80%89%E8%B7%AF%E7%AE%97%E6%B3%95dvr"><span class="toc-nav-number">4.1.1.</span> <span class="toc-nav-text">距离矢量选路算法DVR</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E9%93%BE%E8%B7%AF%E7%8A%B6%E6%80%81%E9%80%89%E8%B7%AF%E7%AE%97%E6%B3%95-lsr-spf"><span class="toc-nav-number">4.1.2.</span> <span class="toc-nav-text">链路状态选路算法 LSR 、SPF</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E7%BD%91%E7%BB%9C%E5%B1%82%E5%8D%8F%E8%AE%AE"><span class="toc-nav-number">4.2.</span> <span class="toc-nav-text">网络层协议</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#ip%E5%9C%B0%E5%9D%80"><span class="toc-nav-number">4.2.1.</span> <span class="toc-nav-text">IP地址</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E5%AD%90%E7%BD%91"><span class="toc-nav-number">4.2.2.</span> <span class="toc-nav-text">子网</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81"><span class="toc-nav-number">4.2.3.</span> <span class="toc-nav-text">子网掩码</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E8%B6%85%E7%BD%91"><span class="toc-nav-number">4.2.4.</span> <span class="toc-nav-text">超网</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E6%97%A0%E7%B1%BB%E5%88%AB%E5%9C%B0%E5%9D%80-cidr"><span class="toc-nav-number">4.2.5.</span> <span class="toc-nav-text">无类别地址 CIDR</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#nat"><span class="toc-nav-number">4.2.6.</span> <span class="toc-nav-text">NAT</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#ip"><span class="toc-nav-number">4.3.</span> <span class="toc-nav-text">IP</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#dhcp"><span class="toc-nav-number">4.3.1.</span> <span class="toc-nav-text">DHCP</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#ip%E5%8C%85"><span class="toc-nav-number">4.3.1.1.</span> <span class="toc-nav-text">IP包</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#%E6%9E%84%E6%88%90"><span class="toc-nav-number">4.3.1.1.1.</span> <span class="toc-nav-text">构成</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#icmp"><span class="toc-nav-number">4.3.1.2.</span> <span class="toc-nav-text">ICMP</span></a></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E5%9B%A0%E7%89%B9%E7%BD%91%E7%9A%84%E9%80%89%E8%B7%AF%E4%BD%93%E7%B3%BB"><span class="toc-nav-number">4.4.</span> <span class="toc-nav-text">因特网的选路体系</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E4%B8%A4%E7%B1%BB%E8%B7%AF%E7%94%B1%E9%80%89%E6%8B%A9%E5%8D%8F%E8%AE%AE"><span class="toc-nav-number">4.4.1.</span> <span class="toc-nav-text">两类路由选择协议</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E7%AE%97%E6%B3%95"><span class="toc-nav-number">4.4.1.1.</span> <span class="toc-nav-text">算法</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#rip"><span class="toc-nav-number">4.4.1.1.1.</span> <span class="toc-nav-text">RIP</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#ospf"><span class="toc-nav-number">4.4.1.1.2.</span> <span class="toc-nav-text">OSPF</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#bgp"><span class="toc-nav-number">4.4.1.1.3.</span> <span class="toc-nav-text">BGP</span></a></li></ol></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E7%BB%84%E6%92%AD"><span class="toc-nav-number">4.5.</span> <span class="toc-nav-text">组播</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E7%BB%84%E6%92%AD%E5%9C%B0%E5%9D%80"><span class="toc-nav-number">4.5.1.</span> <span class="toc-nav-text">组播地址</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#igmp"><span class="toc-nav-number">4.5.2.</span> <span class="toc-nav-text">IGMP</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E5%BA%94%E7%94%A8%E5%B1%82%E7%BB%84%E6%92%AD"><span class="toc-nav-number">4.5.3.</span> <span class="toc-nav-text">(应用层组播)</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E8%B7%AF%E7%94%B1%E5%99%A8"><span class="toc-nav-number">4.6.</span> <span class="toc-nav-text">路由器</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E9%98%9F%E5%88%97%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95"><span class="toc-nav-number">4.6.1.</span> <span class="toc-nav-text">队列调度算法</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E8%B7%AF%E7%94%B1%E8%A1%A8"><span class="toc-nav-number">4.6.2.</span> <span class="toc-nav-text">路由表</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#ipv6"><span class="toc-nav-number">4.7.</span> <span class="toc-nav-text">IPv6</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#ipv6%E4%B8%8Eipv4%E7%9A%84%E4%BA%92%E9%80%9A"><span class="toc-nav-number">4.7.1.</span> <span class="toc-nav-text">IPv6与IPv4的互通</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E7%AC%AC%E4%BA%94%E7%AB%A0-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82"><span class="toc-nav-number">4.8.</span> <span class="toc-nav-text">第五章 数据链路层</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82"><span class="toc-nav-number">4.8.1.</span> <span class="toc-nav-text">为什么需要数据链路层？</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E4%B8%BB%E8%A6%81%E5%8A%9F%E8%83%BD"><span class="toc-nav-number">4.8.2.</span> <span class="toc-nav-text">主要功能</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E6%9C%8D%E5%8A%A1"><span class="toc-nav-number">4.8.3.</span> <span class="toc-nav-text">服务</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E6%A6%82%E5%BF%B5"><span class="toc-nav-number">4.8.4.</span> <span class="toc-nav-text">概念</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%92%8C%E5%B8%A7"><span class="toc-nav-number">4.8.4.1.</span> <span class="toc-nav-text">数据链路和帧</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E6%88%90%E5%B8%A7"><span class="toc-nav-number">4.8.5.</span> <span class="toc-nav-text">成帧</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E6%88%90%E5%B8%A7%E6%96%B9%E6%B3%95"><span class="toc-nav-number">4.8.5.1.</span> <span class="toc-nav-text">成帧方法</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E5%B7%AE%E9%94%99%E6%8E%A7%E5%88%B6"><span class="toc-nav-number">4.8.6.</span> <span class="toc-nav-text">差错控制</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E5%B7%AE%E9%94%99%E7%BA%A0%E6%AD%A3%E6%96%B9%E6%B3%95"><span class="toc-nav-number">4.8.7.</span> <span class="toc-nav-text">差错纠正方法</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E7%89%A9%E7%90%86%E5%9C%B0%E5%9D%80mac"><span class="toc-nav-number">4.8.8.</span> <span class="toc-nav-text">物理地址MAC</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#arp"><span class="toc-nav-number">4.8.8.1.</span> <span class="toc-nav-text">ARP</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#arp%E7%BC%93%E5%AD%98%E8%A1%A8"><span class="toc-nav-number">4.8.8.1.1.</span> <span class="toc-nav-text">ARP缓存表</span></a></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E5%B8%A7%E7%BB%93%E6%9E%84"><span class="toc-nav-number">4.8.9.</span> <span class="toc-nav-text">帧结构</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#hdlc%E5%8D%8F%E8%AE%AE"><span class="toc-nav-number">4.8.9.1.</span> <span class="toc-nav-text">HDLC协议</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#ppp%E5%8D%8F%E8%AE%AE"><span class="toc-nav-number">4.8.9.2.</span> <span class="toc-nav-text">PPP协议</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#arp%E6%AC%BA%E9%AA%97"><span class="toc-nav-number">4.8.10.</span> <span class="toc-nav-text">ARP欺骗</span></a></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#%E7%AC%AC%E5%85%AD%E7%AB%A0-%E5%B1%80%E5%9F%9F%E7%BD%91lan"><span class="toc-nav-number">5.</span> <span class="toc-nav-text">第六章 局域网（LAN）</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E7%AE%80%E4%BB%8B"><span class="toc-nav-number">5.1.</span> <span class="toc-nav-text">简介</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#llc%E5%AD%90%E5%B1%82%E7%9A%84%E5%8A%9F%E8%83%BD"><span class="toc-nav-number">5.1.1.</span> <span class="toc-nav-text">LLC子层的功能</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#mac%E5%AD%90%E5%B1%82%E7%9A%84%E5%8A%9F%E8%83%BD"><span class="toc-nav-number">5.1.2.</span> <span class="toc-nav-text">MAC子层的功能</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E4%BB%8B%E8%B4%A8%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6mac%E6%96%B9%E6%B3%95"><span class="toc-nav-number">5.2.</span> <span class="toc-nav-text">介质访问控制（MAC）方法</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E4%BB%A5%E5%A4%AA%E7%BD%91"><span class="toc-nav-number">5.3.</span> <span class="toc-nav-text">以太网</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#mac%E5%8D%8F%E8%AE%AE%E8%A6%81%E7%82%B9"><span class="toc-nav-number">5.3.1.</span> <span class="toc-nav-text">MAC协议要点</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E6%97%A0%E7%BA%BF%E5%B1%80%E5%9F%9F%E7%BD%91wlan"><span class="toc-nav-number">5.4.</span> <span class="toc-nav-text">无线局域网（WLAN）</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82%E4%BA%92%E8%BF%9E%E8%AE%BE%E5%A4%87"><span class="toc-nav-number">5.5.</span> <span class="toc-nav-text">数据链路层互连设备</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E7%BD%91%E6%A1%A5%E4%B8%8E%E4%BA%A4%E6%8D%A2%E6%9C%BA"><span class="toc-nav-number">5.5.1.</span> <span class="toc-nav-text">网桥与交换机</span></a></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#%E7%AC%AC%E4%B8%83%E7%AB%A0%E7%89%A9%E7%90%86%E5%B1%82"><span class="toc-nav-number">6.</span> <span class="toc-nav-text">第七章物理层</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E6%A6%82%E5%BF%B5-1"><span class="toc-nav-number">6.1.</span> <span class="toc-nav-text">概念</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E6%9C%80%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%8E%87%E4%BF%A1%E9%81%93%E5%AE%B9%E9%87%8F%E5%85%AC%E5%BC%8F"><span class="toc-nav-number">6.2.</span> <span class="toc-nav-text">最大数据率（信道容量）公式</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E8%B0%83%E5%88%B6%E6%8A%80%E6%9C%AF%E5%92%8C%E7%BC%96%E7%A0%81%E6%8A%80%E6%9C%AF"><span class="toc-nav-number">6.3.</span> <span class="toc-nav-text">调制技术和编码技术</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E5%A4%9A%E7%BA%A7%E8%B0%83%E5%88%B6%E6%96%B9%E6%B3%95"><span class="toc-nav-number">6.3.1.</span> <span class="toc-nav-text">多级调制方法</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E6%95%B0%E5%AD%97%E6%95%B0%E6%8D%AE%E7%BC%96%E7%A0%81%E6%8A%80%E6%9C%AF"><span class="toc-nav-number">6.3.2.</span> <span class="toc-nav-text">数字数据编码技术</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E8%84%89%E5%86%B2%E7%BC%96%E7%A0%81%E8%B0%83%E5%88%B6pcm"><span class="toc-nav-number">6.3.3.</span> <span class="toc-nav-text">脉冲编码调制PCM</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E5%A5%88%E5%A5%8E%E6%96%AF%E7%89%B9nyquest%E9%87%87%E6%A0%B7%E5%AE%9A%E7%90%86"><span class="toc-nav-number">6.3.3.1.</span> <span class="toc-nav-text">奈奎斯特（Nyquest）采样定理</span></a></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E5%A4%8D%E7%94%A8"><span class="toc-nav-number">6.4.</span> <span class="toc-nav-text">复用</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E9%A2%91%E5%88%86%E5%A4%8D%E7%94%A8fdm"><span class="toc-nav-number">6.4.1.</span> <span class="toc-nav-text">频分复用FDM</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E6%B3%A2%E5%88%86%E5%A4%8D%E7%94%A8wdm"><span class="toc-nav-number">6.4.2.</span> <span class="toc-nav-text">波分复用WDM</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E6%8C%89%E7%85%A7%E6%B3%A2%E9%95%BF%E5%88%92%E5%88%86%E5%AD%90%E4%BF%A1%E9%81%93"><span class="toc-nav-number">6.4.2.1.</span> <span class="toc-nav-text">按照波长划分子信道</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E6%97%B6%E5%88%86%E5%A4%8D%E7%94%A8tdm"><span class="toc-nav-number">6.4.3.</span> <span class="toc-nav-text">时分复用TDM</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E5%90%8C%E6%AD%A5%E6%97%B6%E5%88%86%E5%A4%8D%E7%94%A8%E7%A4%BA%E4%BE%8Be1%E5%B8%A7"><span class="toc-nav-number">6.4.4.</span> <span class="toc-nav-text">同步时分复用示例：E1帧</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E5%90%8C%E6%AD%A5%E6%97%B6%E5%88%86%E5%A4%8D%E7%94%A8%E7%9A%84%E4%B8%8D%E8%B6%B3"><span class="toc-nav-number">6.4.4.1.</span> <span class="toc-nav-text">同步时分复用的不足</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E7%BB%9F%E8%AE%A1%E6%97%B6%E5%88%86%E5%A4%8D%E7%94%A8stdm"><span class="toc-nav-number">6.4.4.2.</span> <span class="toc-nav-text">统计时分复用STDM</span></a></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E7%89%A9%E7%90%86%E5%B1%82%E4%BA%92%E8%BF%9E%E8%AE%BE%E5%A4%87"><span class="toc-nav-number">6.5.</span> <span class="toc-nav-text">物理层互连设备</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E4%B8%AD%E7%BB%A7%E5%99%A8"><span class="toc-nav-number">6.5.0.1.</span> <span class="toc-nav-text">中继器</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#hub%E9%9B%86%E7%BA%BF%E5%99%A8"><span class="toc-nav-number">6.5.0.2.</span> <span class="toc-nav-text">HUB（集线器）</span></a></li></ol></li></ol></li></ol></li></ol>
        
        </div>
      </aside>
    



      <!-- Sidebar Container -->
      <div class="
                col-lg-8 col-lg-offset-1
                col-md-10 col-md-offset-1
                sidebar-container">

        <!-- Featured Tags -->
        
        <section>
          <!-- no hr -->
          <h5>
            <a href="/tags/">特色标签</a>
          </h5>
          <div class="tags">
            
            <a class="tag" href="/tags/#学科" title="学科">学科</a>
            
          </div>
        </section>
        

        <!-- Friends Blog -->
        
        <hr>
        <h5>链友</h5>
        <ul class="list-inline">

          
          <li>
            <a href="https://kitamarin.cn" target="_blank">Marin</a>
          </li>
          
        </ul>
        
      </div>
    </div>
  </div>
</article>







		<!-- Footer (contains ThemeColor、viewer) -->
		<!-- Footer -->
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center">
          <!--  -->

          
            <li>
              <a target="_blank" href="https://github.com/Sagiring">
                <span class="fa-stack fa-lg">
                  <i class="fa fa-circle fa-stack-2x"></i>
                  <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                </span>
              </a>
            </li>
          

          <!-- 

          

          

          

          

           -->

        </ul>
        <p class="copyright text-muted">
          Copyright &copy;
          茗
          2024
        </p>
      </div>
    </div>
  </div>
</footer>

<a id="rocket" href="#top" class=""></a>


  <!-- jQuery -->
  <script src="https://cdn.jsdelivr.net/gh/Sagiring/Sagiring.github.io/js/jquery.min.js"></script>

  <!-- Bootstrap Core JavaScript -->
  <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/Sagiring/Sagiring.github.io/js/bootstrap.min.js"></script>

  <!-- Custom Theme JavaScript -->
  <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/Sagiring/Sagiring.github.io/js/hux-blog.min.js"></script>

  <!-- catalog -->
  <script async="true" type="text/javascript" src="https://cdn.jsdelivr.net/gh/Sagiring/Sagiring.github.io/js/catalog.js"></script>

  <!-- totop(rocket) -->
  <script async="true" type="text/javascript" src="https://cdn.jsdelivr.net/gh/Sagiring/Sagiring.github.io/js/totop.js"></script>

  
    <!-- Busuanzi JavaScript -->
    <script async="async" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  

  

  

  
    <!-- Mouseclick -->
    <!-- <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/Sagiring/Sagiring.github.io/js/mouseclick.js"  content='' color='' ></script> -->
    <!-- Mouseclick -->
  

  

  




  <!-- CDN: jsdelivr start -->
  <script async="async" type="text/javascript">
    let imgsUrl = document.getElementsByTagName("img");
    let imgUrl = Array.from(imgsUrl);

    let jsdelivr = "https://cdn.jsdelivr.net/gh/";
    let gh = "Sagiring";
    let ghPages = gh + ".github.io";
    let pagePath = "cn/Sagiring_markdown/计算机网络学习/";
    let jsdelivrurl;
    if (pagePath.indexOf("index.html") != -1) {
      jsdelivrurl = jsdelivr + gh + "/" + ghPages;
    } else {
      jsdelivrurl = jsdelivr + gh + "/" + ghPages + "/" + pagePath;
    }
    imgUrl.forEach(item => {
      let oldUrl = item.getAttribute("src");
      let newUrl = oldUrl.replace(oldUrl, jsdelivrurl + oldUrl).replace("..", "");
      item.setAttribute("src", newUrl);
    });
  </script>
  <!-- CDN: jsdelivr end -->




<script>
  // async load function
  function async (u, c) {
    var d = document,
      t = 'script',
      o = d.createElement(t),
      s = d.getElementsByTagName(t)[0];
    o.src = u;
    if (c) {
      o.addEventListener('load', function (e) {
        c(null, e);
      }, false);
    }
    s.parentNode.insertBefore(o, s);
  }

  // fastClick.js
  async ("https://cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function () {
    var $nav = document.querySelector("nav");
    if ($nav)
      FastClick.attach($nav);
    }
  )
</script>

<!-- Because of the native support for backtick-style fenced code blocks right within the Markdown is landed in Github Pages, From V1.6, There is no need for Highlight.js, so Huxblog drops it officially. -
https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0 - https://help.github.com/articles/creating-and-highlighting-code-blocks/ -->
<!-- <script> async ("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function () { hljs.initHighlightingOnLoad(); }) </script> <link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet"> -->

<!-- jquery.tagcloud.js -->
<!-- <script> // only load tagcloud.js in tag.html if ($('#tag_cloud').length !== 0) { async ("https://blog.sagiring.asia/js/jquery.tagcloud.js", function () { $.fn.tagcloud.defaults = { // size: { start: 1, end: 1, unit: 'em' }, color: {
start: '#bbbbee', end: '#0085a1' } }; $('#tag_cloud a').tagcloud(); }) } </script> -->


		<!-- Search -->
		
		<div class="popup search-popup local-search-popup">
  <span class="popup-btn-close">
    ESC
  </span>
  <div class="container">
    <div class="row">
      <!-- <div class="col-md-9 col-md-offset-1"> -->
      <div class="col-lg-9 col-lg-offset-1 col-md-10 col-md-offset-1 local-search-content">

        <div class="local-search-header clearfix">

          <div class="local-search-input-wrapper">
            <span class="search-icon">
              <i class="fa fa-search fa-lg" style="margin: 25px 10px 25px 20px;"></i>
            </span>
            <input autocomplete="off" placeholder="搜索..." type="text" id="local-search-input">
          </div>
        </div>
        <div id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>


  
    <script src="https://cdn.jsdelivr.net/gh/Sagiring/Sagiring.github.io/js/ziploader.js"></script>
  
  <script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.json";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    // monitor main search box;
    var onPopupClose = function (e) {
      $('.popup').fadeOut(300);
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $('.popup').fadeIn(300);
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }
    // get search zip version
    $.get('/searchVersion.json?t=' + (+new Date()), function (res) {
      if (localStorage.getItem('searchVersion') !== res) {
        localStorage.setItem('searchVersion', res);
        initSearchJson();
      }
    });

    function initSearchJson() {
      initLoad(['/search.flv'], {
        loadOptions: {
          success: function (obj) {
            localStorage.setItem('searchJson', obj['search.json'])
          },
          error: function (e) {
            return console.log(e)
          }
        },
        returnOptions: {
          'json': TYPE_TEXT
        },
        mimeOptions: {
          'json': 'application/json'
        }
      })
    }
    // search function;
    var searchFunc = function (search_id, content_id) {
      'use strict';
      isfetched = true;
      var datas = JSON.parse(localStorage.getItem('searchJson'));
      // console.log(search_id)
      var input = document.getElementById(search_id);
      var resultContent = document.getElementById(content_id);
      var inputEventFunction = function () {
        var searchText = input.value.trim().toLowerCase();
        var keywords = searchText.split(/[\s\-]+/);
        if (keywords.length > 1) {
          keywords.push(searchText);
        }
        var resultItems = [];
        if (searchText.length > 0) {
          // perform local searching
          datas.forEach(function (data) {
            var isMatch = false;
            var hitCount = 0;
            var searchTextCount = 0;
            var title = data.title
              ? data.title.trim()
              : '';
            var titleInLowerCase = title.toLowerCase();
            var content = data.content
              ? data.content.trim().replace(/<[^>]+>/g, "")
              : '';
            var contentInLowerCase = content.toLowerCase();
            var articleUrl = decodeURIComponent(data.url);

            var date = data.date;
            var dateTime = date.replace(/T/, " ").replace(/.000Z/, "");
            var imgUrl = data.header_img;
            
              imgUrl = 'https://cdn.jsdelivr.net/gh/Sagiring/Sagiring.github.io' + imgUrl;
            


            var indexOfTitle = [];
            var indexOfContent = [];
            // only match articles with not empty titles
            keywords.forEach(function (keyword) {
              function getIndexByWord(word, text, caseSensitive) {
                var wordLen = word.length;
                if (wordLen === 0) {
                  return [];
                }
                var startPosition = 0,
                  position = [],
                  index = [];
                if (!caseSensitive) {
                  text = text.toLowerCase();
                  word = word.toLowerCase();
                }
                while ((position = text.indexOf(word, startPosition)) > -1) {
                  index.push({position: position, word: word});
                  startPosition = position + wordLen;
                }
                return index;
              }
              indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
              indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
            });
            if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
              isMatch = true;
              hitCount = indexOfTitle.length + indexOfContent.length;
            }
            // show search results
            if (isMatch) {
              // sort index by position of keyword
              [indexOfTitle, indexOfContent].forEach(function (index) {
                index.sort(function (itemLeft, itemRight) {
                  if (itemRight.position !== itemLeft.position) {
                    return itemRight.position - itemLeft.position;
                  } else {
                    return itemLeft.word.length - itemRight.word.length;
                  }
                });
              });
              // merge hits into slices
              function mergeIntoSlice(text, start, end, index) {
                var item = index[index.length - 1];
                var position = item.position;
                var word = item.word;
                var hits = [];
                var searchTextCountInSlice = 0;
                while (position + word.length <= end && index.length != 0) {
                  if (word === searchText) {
                    searchTextCountInSlice++;
                  }
                  hits.push({position: position, length: word.length});
                  var wordEnd = position + word.length;
                  // move to next position of hit
                  index.pop();
                  while (index.length != 0) {
                    item = index[index.length - 1];
                    position = item.position;
                    word = item.word;
                    if (wordEnd > position) {
                      index.pop();
                    } else {
                      break;
                    }
                  }
                }
                searchTextCount += searchTextCountInSlice;
                return {hits: hits, start: start, end: end, searchTextCount: searchTextCountInSlice};
              }
              var slicesOfTitle = [];
              if (indexOfTitle.length != 0) {
                slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
              }
              var slicesOfContent = [];
              while (indexOfContent.length != 0) {
                var item = indexOfContent[indexOfContent.length - 1];
                var position = item.position;
                var word = item.word;
                // cut out 100 characters
                var start = position - 20;
                var end = position + 80;
                if (start < 0) {
                  start = 0;
                }
                if (end < position + word.length) {
                  end = position + word.length;
                }
                if (end > content.length) {
                  end = content.length;
                }
                slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
              }
              // sort slices in content by search text's count and hits' count
              slicesOfContent.sort(function (sliceLeft, sliceRight) {
                if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                  return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                  return sliceRight.hits.length - sliceLeft.hits.length;
                } else {
                  return sliceLeft.start - sliceRight.start;
                }
              });
              // select top N slices in content
              var upperBound = parseInt('1');
              if (upperBound >= 0) {
                slicesOfContent = slicesOfContent.slice(0, upperBound);
              }
              // highlight title and content
              function highlightKeyword(text, slice) {
                var result = '';
                var prevEnd = slice.start;
                slice.hits.forEach(function (hit) {
                  result += text.substring(prevEnd, hit.position);
                  var end = hit.position + hit.length;
                  result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                  prevEnd = end;
                });
                result += text.substring(prevEnd, slice.end);
                return result;
              }
              var resultItem = '';

              // if (slicesOfTitle.length != 0) {   resultItem += "<li><a target='_blank' href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>"; } else {   resultItem += "<li><a target='_blank' href='" +
              // articleUrl + "' class='search-result-title'>" + title + "</a>"; } slicesOfContent.forEach(function (slice) {   resultItem += "<a target='_blank' href='" + articleUrl + "'><p class=\"search-result\">" + highlightKeyword(content, slice) +
              // "...</p></a>"; }); resultItem += "</li>";

              if (slicesOfTitle.length != 0) {
                resultItem += "<a target='_blank' href='" + articleUrl + "' class='search-result'><div class='search-result-left'><div class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</div><time class='search-result-date'>" + dateTime + "</time>";
              } else {
                resultItem += "<a target='_blank' href='" + articleUrl + "' class='search-result'><div class='search-result-left'><div class='search-result-title'>" + title + "</div><time class='search-result-date'>" + dateTime + "</time>";
              }
              slicesOfContent.forEach(function (slice) {
                resultItem += "<p class=\"search-result-content\">" + highlightKeyword(content, slice) + "...</p>";
              });
              resultItem += "</div><div class='search-result-right'><img class='media-image' src='" + imgUrl + "' width='64px' height='48px'></img></div></a>";

              resultItems.push({item: resultItem, searchTextCount: searchTextCount, hitCount: hitCount, id: resultItems.length});
            }
          })
        };

        if (keywords.length === 1 && keywords[0] === "") {
          resultContent.innerHTML = '<div id="no-result"></div>'
        } else if (resultItems.length === 0) {
          resultContent.innerHTML = '<div id="no-result"></div>'
        } else {
          resultItems.sort(function (resultLeft, resultRight) {
            if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
              return resultRight.searchTextCount - resultLeft.searchTextCount;
            } else if (resultLeft.hitCount !== resultRight.hitCount) {
              return resultRight.hitCount - resultLeft.hitCount;
            } else {
              return resultRight.id - resultLeft.id;
            }
          });
          var searchResultList = '<div class=\"search-result-list\">';
          resultItems.forEach(function (result) {
            searchResultList += result.item;
          })
          searchResultList += "</div>";
          resultContent.innerHTML = searchResultList;
        }
      }
      if ('auto' === 'auto') {
        input.addEventListener('input', inputEventFunction);
      } else {
        $('.search-icon').click(inputEventFunction);
        input.addEventListener('keypress', function (event) {
          if (event.keyCode === 13) {
            inputEventFunction();
          }
        });
      }
      // remove loading animation
      $('body').css('overflow', '');
      proceedsearch();
    }
    // handle and trigger popup window;
    $('.popup-trigger').click(function (e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc('local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });
    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function (e) {
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 && $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });

    document.addEventListener('mouseup', (e) => {
      var _con = document.querySelector(".local-search-content");
      if (_con) {
        if (!_con.contains(e.target)) {
          onPopupClose();
        }
      }
    });
  </script>


		

		<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>
		<!-- 代码语言 -->
		<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>
		<!-- 代码块复制 -->
		<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>
		<!-- 代码块收缩 -->
		<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script> 
		<!-- 代码块折行 -->
		<!-- <script src="/libs/highlight/highlight.min.js"></script> -->
<!-- 
		<script>
		// hljs.debugMode()
		// hljs.highlightAll();

		</script> -->

		<style type="text/css">code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }</style>

		
	<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>
</html>

